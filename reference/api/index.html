
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../agent/">
      
      
        <link rel="next" href="../cli/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>Jobbergate API - Jobbergate Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#jobbergate-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Jobbergate Documentation" class="md-header__button md-logo" aria-label="Jobbergate Documentation" data-md-component="logo">
      
  <img src="https://omnivector-public-assets.s3.us-west-2.amazonaws.com/branding/omnivector-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jobbergate Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Jobbergate API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/omnivector-solutions/jobbergate" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    omnivector-solutions/jobbergate
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jobbergate Documentation" class="md-nav__button md-logo" aria-label="Jobbergate Documentation" data-md-component="logo">
      
  <img src="https://omnivector-public-assets.s3.us-west-2.amazonaws.com/branding/omnivector-logo.png" alt="logo">

    </a>
    Jobbergate Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/omnivector-solutions/jobbergate" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    omnivector-solutions/jobbergate
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Elements
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Elements
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/job_scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/job_script_templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Script Templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/job_submissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Submissions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Apps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Apps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Core
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../authors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/dev_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/qa_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quality Assurance Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/integration_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/keycloak_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keycloak Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/template_workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Template Workflows
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Jobbergate API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Jobbergate API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jobbergate_api" class="md-nav__link">
    jobbergate_api
  </a>
  
    <nav class="md-nav" aria-label="jobbergate_api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps" class="md-nav__link">
    apps
  </a>
  
    <nav class="md-nav" aria-label="apps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters" class="md-nav__link">
    clusters
  </a>
  
    <nav class="md-nav" aria-label="clusters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.constants" class="md-nav__link">
    constants
  </a>
  
    <nav class="md-nav" aria-label="constants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.constants.FileType" class="md-nav__link">
    FileType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies" class="md-nav__link">
    dependencies
  </a>
  
    <nav class="md-nav" aria-label="dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.CrudServices" class="md-nav__link">
    CrudServices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.FileServices" class="md-nav__link">
    FileServices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.SecureService" class="md-nav__link">
    SecureService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.Services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.get_bucket_name" class="md-nav__link">
    get_bucket_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.get_bucket_url" class="md-nav__link">
    get_bucket_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.s3_bucket" class="md-nav__link">
    s3_bucket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.secure_services" class="md-nav__link">
    secure_services()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.service_factory" class="md-nav__link">
    service_factory()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation" class="md-nav__link">
    file_validation
  </a>
  
    <nav class="md-nav" aria-label="file_validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.SyntaxValidationEquation" class="md-nav__link">
    SyntaxValidationEquation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.syntax_validation_dispatch" class="md-nav__link">
    syntax_validation_dispatch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.check_uploaded_file_syntax" class="md-nav__link">
    check_uploaded_file_syntax()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.get_suffix" class="md-nav__link">
    get_suffix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.is_valid_jinja2_template" class="md-nav__link">
    is_valid_jinja2_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.is_valid_python_file" class="md-nav__link">
    is_valid_python_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.is_valid_yaml_file" class="md-nav__link">
    is_valid_yaml_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.register_syntax_validator" class="md-nav__link">
    register_syntax_validator()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector" class="md-nav__link">
    garbage_collector
  </a>
  
    <nav class="md-nav" aria-label="garbage_collector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.delete_files_from_bucket" class="md-nav__link">
    delete_files_from_bucket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.garbage_collector" class="md-nav__link">
    garbage_collector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.get_files_to_delete" class="md-nav__link">
    get_files_to_delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.get_set_of_files_from_bucket" class="md-nav__link">
    get_set_of_files_from_bucket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.get_set_of_files_from_database" class="md-nav__link">
    get_set_of_files_from_database()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates" class="md-nav__link">
    job_script_templates
  </a>
  
    <nav class="md-nav" aria-label="job_script_templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.services" class="md-nav__link">
    services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.tools" class="md-nav__link">
    tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts" class="md-nav__link">
    job_scripts
  </a>
  
    <nav class="md-nav" aria-label="job_scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.services" class="md-nav__link">
    services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.tools" class="md-nav__link">
    tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions" class="md-nav__link">
    job_submissions
  </a>
  
    <nav class="md-nav" aria-label="job_submissions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.helpers" class="md-nav__link">
    helpers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.services" class="md-nav__link">
    services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models" class="md-nav__link">
    models
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.ArchiveMixin" class="md-nav__link">
    ArchiveMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.Base" class="md-nav__link">
    Base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.CommonMixin" class="md-nav__link">
    CommonMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.CrudMixin" class="md-nav__link">
    CrudMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.FileMixin" class="md-nav__link">
    FileMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.IdMixin" class="md-nav__link">
    IdMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.NameMixin" class="md-nav__link">
    NameMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.OwnerMixin" class="md-nav__link">
    OwnerMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.TimestampMixin" class="md-nav__link">
    TimestampMixin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.permissions" class="md-nav__link">
    permissions
  </a>
  
    <nav class="md-nav" aria-label="permissions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.permissions.Permissions" class="md-nav__link">
    Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.permissions.can_bypass_ownership_check" class="md-nav__link">
    can_bypass_ownership_check()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas" class="md-nav__link">
    schemas
  </a>
  
    <nav class="md-nav" aria-label="schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas.ListParams" class="md-nav__link">
    ListParams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas.PydanticDateTime" class="md-nav__link">
    PydanticDateTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas.TableResource" class="md-nav__link">
    TableResource
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.BucketBoundService" class="md-nav__link">
    BucketBoundService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.CrudModelProto" class="md-nav__link">
    CrudModelProto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.CrudService" class="md-nav__link">
    CrudService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.DatabaseBoundService" class="md-nav__link">
    DatabaseBoundService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.FileModelProto" class="md-nav__link">
    FileModelProto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.FileService" class="md-nav__link">
    FileService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.ServiceError" class="md-nav__link">
    ServiceError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config" class="md-nav__link">
    config
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.LogLevelEnum" class="md-nav__link">
    LogLevelEnum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.Settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.Settings.remove_blank_env" class="md-nav__link">
    remove_blank_env()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.check_none_or_all_keys_exist" class="md-nav__link">
    check_none_or_all_keys_exist()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification" class="md-nav__link">
    email_notification
  </a>
  
    <nav class="md-nav" aria-label="email_notification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.EmailManager" class="md-nav__link">
    EmailManager
  </a>
  
    <nav class="md-nav" aria-label="EmailManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.EmailManager.send_email" class="md-nav__link">
    send_email()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.EmailNotificationError" class="md-nav__link">
    EmailNotificationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.notify_submission_rejected" class="md-nav__link">
    notify_submission_rejected()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging" class="md-nav__link">
    logging
  </a>
  
    <nav class="md-nav" aria-label="logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging.InterceptHandler" class="md-nav__link">
    InterceptHandler
  </a>
  
    <nav class="md-nav" aria-label="InterceptHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging.InterceptHandler.emit" class="md-nav__link">
    emit()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging.init_logging" class="md-nav__link">
    init_logging()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main" class="md-nav__link">
    main
  </a>
  
    <nav class="md-nav" aria-label="main">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main.health_check" class="md-nav__link">
    health_check()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main.lifespan" class="md-nav__link">
    lifespan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main.validation_exception_handler" class="md-nav__link">
    validation_exception_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper" class="md-nav__link">
    meta_mapper
  </a>
  
    <nav class="md-nav" aria-label="meta_mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaField" class="md-nav__link">
    MetaField
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaMapper" class="md-nav__link">
    MetaMapper
  </a>
  
    <nav class="md-nav" aria-label="MetaMapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaMapper.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaMapper.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.rabbitmq_notification" class="md-nav__link">
    rabbitmq_notification
  </a>
  
    <nav class="md-nav" aria-label="rabbitmq_notification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.rabbitmq_notification.publish_status_change" class="md-nav__link">
    publish_status_change()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.rabbitmq_notification.rabbitmq_connect" class="md-nav__link">
    rabbitmq_connect()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.safe_types" class="md-nav__link">
    safe_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security" class="md-nav__link">
    security
  </a>
  
    <nav class="md-nav" aria-label="security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.IdentityPayload" class="md-nav__link">
    IdentityPayload
  </a>
  
    <nav class="md-nav" aria-label="IdentityPayload">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.IdentityPayload.extract_organization" class="md-nav__link">
    extract_organization()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.get_domain_configs" class="md-nav__link">
    get_domain_configs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.lockdown_with_identity" class="md-nav__link">
    lockdown_with_identity()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage" class="md-nav__link">
    storage
  </a>
  
    <nav class="md-nav" aria-label="storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory" class="md-nav__link">
    EngineFactory
  </a>
  
    <nav class="md-nav" aria-label="EngineFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.auto_session" class="md-nav__link">
    auto_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.cleanup" class="md-nav__link">
    cleanup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.get_engine" class="md-nav__link">
    get_engine()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.SecureSession" class="md-nav__link">
    SecureSession
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.build_db_url" class="md-nav__link">
    build_db_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.handle_fk_error" class="md-nav__link">
    handle_fk_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.render_sql" class="md-nav__link">
    render_sql()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.search_clause" class="md-nav__link">
    search_clause()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.secure_session" class="md-nav__link">
    secure_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.sort_clause" class="md-nav__link">
    sort_clause()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version" class="md-nav__link">
    version
  </a>
  
    <nav class="md-nav" aria-label="version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version.get_version" class="md-nav__link">
    get_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version.get_version_from_metadata" class="md-nav__link">
    get_version_from_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version.get_version_from_poetry" class="md-nav__link">
    get_version_from_poetry()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Core
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jobbergate_api" class="md-nav__link">
    jobbergate_api
  </a>
  
    <nav class="md-nav" aria-label="jobbergate_api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps" class="md-nav__link">
    apps
  </a>
  
    <nav class="md-nav" aria-label="apps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters" class="md-nav__link">
    clusters
  </a>
  
    <nav class="md-nav" aria-label="clusters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.clusters.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.constants" class="md-nav__link">
    constants
  </a>
  
    <nav class="md-nav" aria-label="constants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.constants.FileType" class="md-nav__link">
    FileType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies" class="md-nav__link">
    dependencies
  </a>
  
    <nav class="md-nav" aria-label="dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.CrudServices" class="md-nav__link">
    CrudServices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.FileServices" class="md-nav__link">
    FileServices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.SecureService" class="md-nav__link">
    SecureService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.Services" class="md-nav__link">
    Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.get_bucket_name" class="md-nav__link">
    get_bucket_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.get_bucket_url" class="md-nav__link">
    get_bucket_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.s3_bucket" class="md-nav__link">
    s3_bucket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.secure_services" class="md-nav__link">
    secure_services()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.dependencies.service_factory" class="md-nav__link">
    service_factory()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation" class="md-nav__link">
    file_validation
  </a>
  
    <nav class="md-nav" aria-label="file_validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.SyntaxValidationEquation" class="md-nav__link">
    SyntaxValidationEquation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.syntax_validation_dispatch" class="md-nav__link">
    syntax_validation_dispatch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.check_uploaded_file_syntax" class="md-nav__link">
    check_uploaded_file_syntax()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.get_suffix" class="md-nav__link">
    get_suffix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.is_valid_jinja2_template" class="md-nav__link">
    is_valid_jinja2_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.is_valid_python_file" class="md-nav__link">
    is_valid_python_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.is_valid_yaml_file" class="md-nav__link">
    is_valid_yaml_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.file_validation.register_syntax_validator" class="md-nav__link">
    register_syntax_validator()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector" class="md-nav__link">
    garbage_collector
  </a>
  
    <nav class="md-nav" aria-label="garbage_collector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.delete_files_from_bucket" class="md-nav__link">
    delete_files_from_bucket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.garbage_collector" class="md-nav__link">
    garbage_collector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.get_files_to_delete" class="md-nav__link">
    get_files_to_delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.get_set_of_files_from_bucket" class="md-nav__link">
    get_set_of_files_from_bucket()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.garbage_collector.get_set_of_files_from_database" class="md-nav__link">
    get_set_of_files_from_database()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates" class="md-nav__link">
    job_script_templates
  </a>
  
    <nav class="md-nav" aria-label="job_script_templates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.services" class="md-nav__link">
    services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_script_templates.tools" class="md-nav__link">
    tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts" class="md-nav__link">
    job_scripts
  </a>
  
    <nav class="md-nav" aria-label="job_scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.services" class="md-nav__link">
    services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_scripts.tools" class="md-nav__link">
    tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions" class="md-nav__link">
    job_submissions
  </a>
  
    <nav class="md-nav" aria-label="job_submissions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.constants" class="md-nav__link">
    constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.helpers" class="md-nav__link">
    helpers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.models" class="md-nav__link">
    models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.routers" class="md-nav__link">
    routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.schemas" class="md-nav__link">
    schemas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.job_submissions.services" class="md-nav__link">
    services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models" class="md-nav__link">
    models
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.ArchiveMixin" class="md-nav__link">
    ArchiveMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.Base" class="md-nav__link">
    Base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.CommonMixin" class="md-nav__link">
    CommonMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.CrudMixin" class="md-nav__link">
    CrudMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.FileMixin" class="md-nav__link">
    FileMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.IdMixin" class="md-nav__link">
    IdMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.NameMixin" class="md-nav__link">
    NameMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.OwnerMixin" class="md-nav__link">
    OwnerMixin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.models.TimestampMixin" class="md-nav__link">
    TimestampMixin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.permissions" class="md-nav__link">
    permissions
  </a>
  
    <nav class="md-nav" aria-label="permissions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.permissions.Permissions" class="md-nav__link">
    Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.permissions.can_bypass_ownership_check" class="md-nav__link">
    can_bypass_ownership_check()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas" class="md-nav__link">
    schemas
  </a>
  
    <nav class="md-nav" aria-label="schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas.ListParams" class="md-nav__link">
    ListParams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas.PydanticDateTime" class="md-nav__link">
    PydanticDateTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.schemas.TableResource" class="md-nav__link">
    TableResource
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.BucketBoundService" class="md-nav__link">
    BucketBoundService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.CrudModelProto" class="md-nav__link">
    CrudModelProto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.CrudService" class="md-nav__link">
    CrudService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.DatabaseBoundService" class="md-nav__link">
    DatabaseBoundService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.FileModelProto" class="md-nav__link">
    FileModelProto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.FileService" class="md-nav__link">
    FileService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.apps.services.ServiceError" class="md-nav__link">
    ServiceError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config" class="md-nav__link">
    config
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.LogLevelEnum" class="md-nav__link">
    LogLevelEnum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.Settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.Settings.remove_blank_env" class="md-nav__link">
    remove_blank_env()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.config.check_none_or_all_keys_exist" class="md-nav__link">
    check_none_or_all_keys_exist()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification" class="md-nav__link">
    email_notification
  </a>
  
    <nav class="md-nav" aria-label="email_notification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.EmailManager" class="md-nav__link">
    EmailManager
  </a>
  
    <nav class="md-nav" aria-label="EmailManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.EmailManager.send_email" class="md-nav__link">
    send_email()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.EmailNotificationError" class="md-nav__link">
    EmailNotificationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.email_notification.notify_submission_rejected" class="md-nav__link">
    notify_submission_rejected()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging" class="md-nav__link">
    logging
  </a>
  
    <nav class="md-nav" aria-label="logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging.InterceptHandler" class="md-nav__link">
    InterceptHandler
  </a>
  
    <nav class="md-nav" aria-label="InterceptHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging.InterceptHandler.emit" class="md-nav__link">
    emit()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.logging.init_logging" class="md-nav__link">
    init_logging()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main" class="md-nav__link">
    main
  </a>
  
    <nav class="md-nav" aria-label="main">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main.health_check" class="md-nav__link">
    health_check()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main.lifespan" class="md-nav__link">
    lifespan()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.main.validation_exception_handler" class="md-nav__link">
    validation_exception_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper" class="md-nav__link">
    meta_mapper
  </a>
  
    <nav class="md-nav" aria-label="meta_mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaField" class="md-nav__link">
    MetaField
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaMapper" class="md-nav__link">
    MetaMapper
  </a>
  
    <nav class="md-nav" aria-label="MetaMapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaMapper.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.meta_mapper.MetaMapper.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.rabbitmq_notification" class="md-nav__link">
    rabbitmq_notification
  </a>
  
    <nav class="md-nav" aria-label="rabbitmq_notification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.rabbitmq_notification.publish_status_change" class="md-nav__link">
    publish_status_change()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.rabbitmq_notification.rabbitmq_connect" class="md-nav__link">
    rabbitmq_connect()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.safe_types" class="md-nav__link">
    safe_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security" class="md-nav__link">
    security
  </a>
  
    <nav class="md-nav" aria-label="security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.IdentityPayload" class="md-nav__link">
    IdentityPayload
  </a>
  
    <nav class="md-nav" aria-label="IdentityPayload">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.IdentityPayload.extract_organization" class="md-nav__link">
    extract_organization()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.get_domain_configs" class="md-nav__link">
    get_domain_configs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.security.lockdown_with_identity" class="md-nav__link">
    lockdown_with_identity()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage" class="md-nav__link">
    storage
  </a>
  
    <nav class="md-nav" aria-label="storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory" class="md-nav__link">
    EngineFactory
  </a>
  
    <nav class="md-nav" aria-label="EngineFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.auto_session" class="md-nav__link">
    auto_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.cleanup" class="md-nav__link">
    cleanup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.EngineFactory.get_engine" class="md-nav__link">
    get_engine()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.SecureSession" class="md-nav__link">
    SecureSession
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.build_db_url" class="md-nav__link">
    build_db_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.handle_fk_error" class="md-nav__link">
    handle_fk_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.render_sql" class="md-nav__link">
    render_sql()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.search_clause" class="md-nav__link">
    search_clause()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.secure_session" class="md-nav__link">
    secure_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.storage.sort_clause" class="md-nav__link">
    sort_clause()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version" class="md-nav__link">
    version
  </a>
  
    <nav class="md-nav" aria-label="version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version.get_version" class="md-nav__link">
    get_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version.get_version_from_metadata" class="md-nav__link">
    get_version_from_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_api.version.get_version_from_poetry" class="md-nav__link">
    get_version_from_poetry()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="jobbergate-api-reference">Jobbergate API Reference</h1>


<div class="doc doc-object doc-module">




<h3 id="jobbergate_api" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">jobbergate_api</span>


</h3>

  <div class="doc doc-contents first">
  
      <p>Main components of the application: routers, config, main, pagination and create super user script.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.apps" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">apps</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Resources of the API.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.clusters" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">clusters</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Module to track agent's health on the clusters.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.clusters.models" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">models</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Database models for the cluster health resource.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.clusters.models.ClusterStatus" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ClusterStatus</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CommonMixin" href="#jobbergate_api.apps.models.CommonMixin">CommonMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.TimestampMixin" href="#jobbergate_api.apps.models.TimestampMixin">TimestampMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Cluster status table definition.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h8 id="jobbergate_api.apps.clusters.models.ClusterStatus.is_healthy" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">is_healthy</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_healthy</span><span class="p">:</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return True if the last_reported time is before now plus the interval in seconds between pings.</p>
  </div>

</div>





  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.clusters.routers" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">routers</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Cluster status API endpoints.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.clusters.routers.get_cluster_status" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_cluster_status</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_cluster_status</span><span class="p">(</span><span class="n">secure_session</span><span class="p">:</span> <span class="n">SecureSession</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_session</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">CLUSTERS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the status of the cluster.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.clusters.routers.get_cluster_status_by_client_id" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_cluster_status_by_client_id</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_cluster_status_by_client_id</span><span class="p">(</span><span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">secure_session</span><span class="p">:</span> <span class="n">SecureSession</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_session</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">CLUSTERS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the status of a specific cluster.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.clusters.routers.report_cluster_status" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">report_cluster_status</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">report_cluster_status</span><span class="p">(</span><span class="n">interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;The interval in seconds between pings.&#39;</span><span class="p">,</span> <span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">secure_session</span><span class="p">:</span> <span class="n">SecureSession</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_session</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">CLUSTERS_UPDATE</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Report the status of the cluster.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.clusters.schemas" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">schemas</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Schema definitions for the cluster app.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.clusters.schemas.ClusterStatusView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ClusterStatusView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Describes the status of a cluster.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.constants" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">constants</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Constants to be shared by all models.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.constants.FileType" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">FileType</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>File type enum.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.dependencies" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">dependencies</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Router dependencies shared for multiple resources.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>The dependencies can be reused multiple times, since FastAPI caches the results.</p>
</details>
  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.dependencies.CrudServices" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">CrudServices</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>

  
      <p>Provide a container class for the CRUD services.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.dependencies.FileServices" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">FileServices</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>

  
      <p>Provide a container class for the file services.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.dependencies.SecureService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">SecureService</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.storage.SecureSession" href="#jobbergate_api.storage.SecureSession">SecureSession</a></code></p>

  
      <p>Dataclass to hold the secure session and the bucket.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.dependencies.Services" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Services</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>

  
      <p>Provide a container class for the services.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.dependencies.get_bucket_name" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_bucket_name</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_bucket_name</span><span class="p">(</span><span class="n">override_bucket_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the bucket name based on the environment.</p>
<p>The name can be overridden when multi tenancy is enabled by passing a bucket name.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.dependencies.get_bucket_url" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_bucket_url</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_bucket_url</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the bucket url based on the environment.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.dependencies.s3_bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">s3_bucket</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">s3_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">s3_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">Bucket</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a bucket using a context manager.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.dependencies.secure_services" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">secure_services</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">secure_services</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">permission_mode</span><span class="p">:</span> <span class="n">PermissionMode</span> <span class="o">=</span> <span class="n">PermissionMode</span><span class="o">.</span><span class="n">SOME</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ensure_email</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Dependency to bind database services to a secure session.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.dependencies.service_factory" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">service_factory</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">service_factory</span><span class="p">(</span><span class="n">session</span><span class="p">:</span> <span class="n">AsyncSession</span><span class="p">,</span> <span class="n">bucket</span><span class="p">:</span> <span class="n">Bucket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Services</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create the services and bind them to a db section and s3 bucket.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.file_validation" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">file_validation</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Validation methods for the uploaded files.</p>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h6 id="jobbergate_api.apps.file_validation.SyntaxValidationEquation" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">SyntaxValidationEquation</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">SyntaxValidationEquation</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]],</span> <span class="nb">bool</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Type alias describing the function signature used to validate file syntax.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h6 id="jobbergate_api.apps.file_validation.syntax_validation_dispatch" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">syntax_validation_dispatch</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">syntax_validation_dispatch</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SyntaxValidationEquation</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Dictionary mapping file extensions to the function used to validate their syntax.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.file_validation.check_uploaded_file_syntax" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">check_uploaded_file_syntax</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">check_uploaded_file_syntax</span><span class="p">(</span><span class="n">file_obj</span><span class="p">:</span> <span class="n">BinaryIO</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check the syntax of a given file.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.file_validation.get_suffix" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_suffix</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_suffix</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the suffix (file extension) from a given filename.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.file_validation.is_valid_jinja2_template" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_valid_jinja2_template</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_valid_jinja2_template</span><span class="p">(</span><span class="n">template</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check if a given jinja2 template is valid by creating a Template object and trying to render it.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>template</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, bytes]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Jinja2 template.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Boolean indicating if the template is valid or not.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.file_validation.is_valid_python_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_valid_python_file</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_valid_python_file</span><span class="p">(</span><span class="n">source_code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check if a given Python source code is valid by parsing it into an AST node.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>source_code</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, bytes]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Python source code.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Boolean indicating if the source code is valid or not.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.file_validation.is_valid_yaml_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_valid_yaml_file</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_valid_yaml_file</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check if a given YAML file is valid by parsing it with yaml.safe_load.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>yaml_file</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, bytes]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>YAML file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Boolean indicating if the file is valid or not.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.file_validation.register_syntax_validator" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">register_syntax_validator</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">register_syntax_validator</span><span class="p">(</span><span class="o">*</span><span class="n">file_extensions</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Use this decorator to register file syntax validation functions.</p>
<p>It creates a new entry on <code>validation_dispatch</code>, mapping the equation to
the file extensions that are provided as arguments.</p>
<p>Raise ValueError if the provided file extensions do not start with a dot.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.garbage_collector" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">garbage_collector</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Delete unused files from jobbergate's file storage.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.garbage_collector.delete_files_from_bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">delete_files_from_bucket</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">delete_files_from_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">,</span> <span class="n">files_to_delete</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete files from the bucket.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.garbage_collector.garbage_collector" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">garbage_collector</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">garbage_collector</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">bucket</span><span class="p">,</span> <span class="n">list_of_tables</span><span class="p">,</span> <span class="n">background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete unused files from jobbergate's file storage.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.garbage_collector.get_files_to_delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_files_to_delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_files_to_delete</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">bucket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a set of files to delete.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.garbage_collector.get_set_of_files_from_bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_set_of_files_from_bucket</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_set_of_files_from_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a set of files from the bucket.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.garbage_collector.get_set_of_files_from_database" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_set_of_files_from_database</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_set_of_files_from_database</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a set of files from the database.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.job_script_templates" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">job_script_templates</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Module for the job script templates.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_script_templates.constants" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">constants</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Describe constants for the job script templates module.</p>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_script_templates.models" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">models</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Database models for the job_script_templates resource.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.models.JobScriptTemplate" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptTemplate</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CrudMixin" href="#jobbergate_api.apps.models.CrudMixin">CrudMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Job script template table definition.</p>
<p>Notice all relationships are lazy="raise" to prevent n+1 implicit queries.
This means that the relationships must be explicitly eager loaded using
helper functions in the class.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>identifier</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<span title="typing.Optional">Optional</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The identifier of the job script template.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>template_vars</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[dict[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The template variables of the job script template.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See Mixin class definitions for other columns.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.models.JobScriptTemplate.include_files" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_files</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_files</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load files.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.models.JobScriptTemplate.searchable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">searchable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">searchable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add identifier as a searchable field.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.models.JobScriptTemplate.sortable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sortable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">sortable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add identifier as a sortable field.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.models.JobScriptTemplateFile" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptTemplateFile</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.FileMixin" href="#jobbergate_api.apps.models.FileMixin">FileMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Job script template files table definition.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A foreign key to the parent job script template row.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>file_type</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<a class="autorefs autorefs-internal" title="jobbergate_api.apps.constants.FileType" href="#jobbergate_api.apps.constants.FileType">FileType</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of the file.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See Mixin class definitions for other columns</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.models.WorkflowFile" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">WorkflowFile</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.FileMixin" href="#jobbergate_api.apps.models.FileMixin">FileMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Workflow file table definition.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A foreign key to the parent job script template row.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>runtime_config</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[dict[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The runtime configuration of the workflow.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See Mixin class definitions for other columns</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_script_templates.routers" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">routers</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Router for the Job Script Template resource.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_clone" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_clone</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_clone</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">clone_request</span><span class="p">:</span> <span class="n">JobTemplateCloneRequest</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clone a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_create</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_create</span><span class="p">(</span><span class="n">create_request</span><span class="p">:</span> <span class="n">JobTemplateCreateRequest</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new job script template.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_delete</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_DELETE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_delete_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_delete_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_delete_file</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_DELETE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a file from a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_garbage_collector" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_garbage_collector</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_garbage_collector</span><span class="p">(</span><span class="n">background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_DELETE</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete all unused files from jobbergate templates on the file storage.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_get</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_get</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_get_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_get_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_get_file</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a job script template file by id or identifier.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>See https://fastapi.tiangolo.com/advanced/custom-response/#streamingresponse</p>
</details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_get_list" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_get_list</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_get_list</span><span class="p">(</span><span class="n">list_params</span><span class="p">:</span> <span class="n">ListParams</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(),</span> <span class="n">include_null_identifier</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">False</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a list of job script templates.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_update</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_update</span><span class="p">(</span><span class="n">update_request</span><span class="p">:</span> <span class="n">JobTemplateUpdateRequest</span><span class="p">,</span> <span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_UPDATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_upload_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_upload_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_upload_file</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">FileType</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">upload_file</span><span class="p">:</span> <span class="n">UploadFile</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;File to upload&#39;</span><span class="p">),</span> <span class="n">previous_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Previous name of the file in case a rename is needed&#39;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload a file to a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_template_upload_file_by_url" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_template_upload_file_by_url</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_template_upload_file_by_url</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">FileType</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">file_url</span><span class="p">:</span> <span class="n">AnyUrl</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;URL of the file to upload&#39;</span><span class="p">),</span> <span class="n">previous_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Previous name of the file in case a rename is needed&#39;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload a file to a job script template by id or identifier using file URL.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_upload_file_by_url" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_upload_file_by_url</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_upload_file_by_url</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">runtime_config</span><span class="p">:</span> <span class="n">RunTimeConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Body</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Runtime configuration is optional when the workflow file already exists&#39;</span><span class="p">),</span> <span class="n">file_url</span><span class="p">:</span> <span class="n">AnyUrl</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;URL of the file to upload&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload a file to a job script workflow by id or identifier from a URL.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_workflow_delete_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_workflow_delete_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_workflow_delete_file</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_DELETE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a workflow file from a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_workflow_get_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_workflow_get_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_workflow_get_file</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a workflow file by id or identifier.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>See https://fastapi.tiangolo.com/advanced/custom-response/#streamingresponse</p>
</details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.routers.job_script_workflow_upload_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_workflow_upload_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_workflow_upload_file</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">runtime_config</span><span class="p">:</span> <span class="n">RunTimeConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Body</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Runtime configuration is optional when the workflow file already exists&#39;</span><span class="p">),</span> <span class="n">upload_file</span><span class="p">:</span> <span class="n">UploadFile</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;File to upload&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_TEMPLATES_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload a file to a job script workflow by id or identifier.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_script_templates.schemas" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">schemas</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Provide schemas for the job script templates component.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateBaseDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobTemplateBaseDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_script_templates.schemas.JobTemplateListView" href="#jobbergate_api.apps.job_script_templates.schemas.JobTemplateListView">JobTemplateListView</a></code></p>

  
      <p>Schema for the request to an entry.</p>
<p>Notice the files are omitted.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateCloneRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobTemplateCloneRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Schema for the request to clone a job template.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateCloneRequest.empty_str_to_none" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">empty_str_to_none</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">empty_str_to_none</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Coerce an empty string value to None.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateCloneRequest.not_empty_str" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">not_empty_str</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">not_empty_str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Do not allow a string value to be empty.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateCreateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobTemplateCreateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Schema for the request to create a job template.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateCreateRequest.empty_str_to_none" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">empty_str_to_none</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">empty_str_to_none</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Coerce an empty string value to None.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateCreateRequest.not_empty_str" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">not_empty_str</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">not_empty_str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Do not allow a string value to be empty.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobTemplateDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_script_templates.schemas.JobTemplateBaseDetailedView" href="#jobbergate_api.apps.job_script_templates.schemas.JobTemplateBaseDetailedView">JobTemplateBaseDetailedView</a></code></p>

  
      <p>Schema for the request to an entry.</p>
<p>Notice the files default to None, as they are not always requested, to differentiate between
an empty list when they are requested, but no file is found.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateListView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobTemplateListView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.schemas.TableResource" href="#jobbergate_api.apps.schemas.TableResource">TableResource</a></code></p>

  
      <p>Schema for the response to get a list of entries.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateUpdateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobTemplateUpdateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Schema for the request to update a job template.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateUpdateRequest.empty_str_to_none" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">empty_str_to_none</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">empty_str_to_none</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Coerce an empty string value to None.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.JobTemplateUpdateRequest.not_empty_str" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">not_empty_str</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">not_empty_str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Do not allow a string value to be empty.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.RunTimeConfig" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">RunTimeConfig</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Schema for the runtime config of a job template.</p>
<p>Notice this includes user supplied variables, so it has no predefined field.
It also loads the contend directly from the json at the request payload.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.schemas.RunTimeConfig.coerce_string_to_dict" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">coerce_string_to_dict</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">coerce_string_to_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the validators.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.TemplateFileDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TemplateFileDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Schema for the response to get a template file.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.schemas.WorkflowFileDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">WorkflowFileDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Schema for the response to get a workflow file.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_script_templates.services" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">services</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Services for the job_script_templates resource, including module specific business logic.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateFileService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptTemplateFileService</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.FileService" href="#jobbergate_api.apps.services.FileService">FileService</a></code></p>

  
      <p>Provide an empty derived class of FileService.</p>
<p>Although it doesn't do anything, it fixes errors with mypy:
    error: Value of type variable "FileModel" of "FileService" cannot be "JobScriptTemplateFile"
    error: Value of type variable "FileModel" of "FileService" cannot be "WorkflowFile"</p>


  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptTemplateService</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.CrudService" href="#jobbergate_api.apps.services.CrudService">CrudService</a></code></p>

  
      <p>Provide a CrudService that overloads the list query builder and locator logic.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateService.build_list_query" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">build_list_query</span>


</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">build_list_query</span><span class="p">(</span><span class="n">sort_ascending</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">search</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sort_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_archived</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">include_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_parent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_null_identifier</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">additional_filters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>List all job_script_templates.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateService.create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">create</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">incoming_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CrudModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add a new row for the model to the database.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateService.locate_where_clause" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">locate_where_clause</span>


</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">locate_where_clause</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Locate an instance using the id or identifier field.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateService.update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">update</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">update</span><span class="p">(</span><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">incoming_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CrudModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a row by locator with supplied data.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_script_templates.services.JobScriptTemplateService.validate_identifier" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">validate_identifier</span>


</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">validate_identifier</span><span class="p">(</span><span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Validate that the identifier is not an empty string nor composed only by digits.</p>
<p>Raise a ServiceError with status code 422 if the validation fails.</p>
<p>Many of the job-script-template endpoints use the id or identifier interchangeably
as a path parameter. With that, we need to ensure that the identifier is
not a number, as that would be identified as id.</p>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_script_templates.tools" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">tools</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Provide a method for coercing id_or_identifier to a string or int.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_script_templates.tools.coerce_id_or_identifier" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">coerce_id_or_identifier</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">coerce_id_or_identifier</span><span class="p">(</span><span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Determine whether the id_or_identifier should be a string or an integer.</p>
<p>This is necessary because FastAPI no longer automatically converts path parameters to integers
automatically if they may also be string values.</p>

  </div>

</div>



  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.job_scripts" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">job_scripts</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Provide module for job_scripts.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_scripts.models" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">models</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Database model for the JobScript resource.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.models.JobScript" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScript</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CrudMixin" href="#jobbergate_api.apps.models.CrudMixin">CrudMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Job script table definition.</p>
<p>Notice all relationships are lazy="raise" to prevent n+1 implicit queries.
This means that the relationships must be explicitly eager loaded using
helper functions in the class.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_template_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the parent template.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See Mixin class definitions for other columns.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.models.JobScript.include_files" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_files</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_files</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load files.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.models.JobScript.include_parent" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_parent</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_parent</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load parent data.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.models.JobScript.sortable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sortable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">sortable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add parent_template_id as a sortable field.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.models.JobScriptFile" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptFile</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.FileMixin" href="#jobbergate_api.apps.models.FileMixin">FileMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Job script files table definition.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_template_id</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the parent template.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>file_type</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<a class="autorefs autorefs-internal" title="jobbergate_api.apps.constants.FileType" href="#jobbergate_api.apps.constants.FileType">FileType</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of the file.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See Mixin class definitions for other columns</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_scripts.routers" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">routers</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Router for the Job Script Template resource.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_auto_clean_unused_entries" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_auto_clean_unused_entries</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_auto_clean_unused_entries</span><span class="p">(</span><span class="n">background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_DELETE</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Automatically clean unused job scripts depending on a threshold.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_clone" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_clone</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_clone</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">clone_request</span><span class="p">:</span> <span class="n">JobScriptCloneRequest</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clone a job script by its id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_create</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_create</span><span class="p">(</span><span class="n">create_request</span><span class="p">:</span> <span class="n">JobScriptCreateRequest</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_CREATE</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a stand alone job script.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_create_from_template" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_create_from_template</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_create_from_template</span><span class="p">(</span><span class="n">create_request</span><span class="p">:</span> <span class="n">JobScriptCreateRequest</span><span class="p">,</span> <span class="n">render_request</span><span class="p">:</span> <span class="n">RenderFromTemplateRequest</span><span class="p">,</span> <span class="n">id_or_identifier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new job script from a job script template.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_delete</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_DELETE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_delete_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_delete_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_delete_file</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_DELETE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a file from a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_garbage_collector" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_garbage_collector</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_garbage_collector</span><span class="p">(</span><span class="n">background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_DELETE</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete all unused files from job scripts on the file storage.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_get</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_get</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a job script by id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_get_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_get_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_get_file</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a job script file.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>See https://fastapi.tiangolo.com/advanced/custom-response/#streamingresponse</p>
</details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_get_list" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_get_list</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_get_list</span><span class="p">(</span><span class="n">list_params</span><span class="p">:</span> <span class="n">ListParams</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(),</span> <span class="n">from_job_script_template_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Filter job-scripts by the job-script-template-id they were created from.&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a list of job scripts.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_update</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_update</span><span class="p">(</span><span class="n">update_params</span><span class="p">:</span> <span class="n">JobScriptUpdateRequest</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_UPDATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a job script template by id or identifier.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_upload_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_upload_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_upload_file</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">FileType</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">upload_file</span><span class="p">:</span> <span class="n">UploadFile</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;File to upload&#39;</span><span class="p">),</span> <span class="n">previous_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Previous name of the file in case a rename is needed&#39;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload a file to a job script.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.routers.job_script_upload_file_by_url" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_script_upload_file_by_url</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_script_upload_file_by_url</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">FileType</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">file_url</span><span class="p">:</span> <span class="n">AnyUrl</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;URL of the file to upload&#39;</span><span class="p">),</span> <span class="n">previous_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Previous name of the file in case a rename is needed&#39;</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SCRIPTS_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload a file to a job script from a URL.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_scripts.schemas" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">schemas</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>JobScript resource schema.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptBaseView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptBaseView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.schemas.TableResource" href="#jobbergate_api.apps.schemas.TableResource">TableResource</a></code></p>

  
      <p>Base model to match database for the JobScript resource.</p>
<p>Omits parent relationship.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptCloneRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptCloneRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for cloning JobScript instances.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptCreateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptCreateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for creating JobScript instances.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_scripts.schemas.JobScriptBaseView" href="#jobbergate_api.apps.job_scripts.schemas.JobScriptBaseView">JobScriptBaseView</a></code></p>

  
      <p>Model to match database for the JobScript resource.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptFileDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptFileDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Model for the job_script_files field of the JobScript resource.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptListView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptListView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_scripts.schemas.JobScriptBaseView" href="#jobbergate_api.apps.job_scripts.schemas.JobScriptBaseView">JobScriptBaseView</a></code></p>

  
      <p>Model to match database for the JobScript resource.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.JobScriptUpdateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptUpdateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for updating JobScript instances.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.schemas.RenderFromTemplateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">RenderFromTemplateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for creating a JobScript entry from a template.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_scripts.services" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">services</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Services for the job_scripts resource, including module specific business logic.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.services.AutoCleanResponse" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">AutoCleanResponse</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>

  
      <p>Named tuple for the response of auto_clean_unused_job_scripts.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.services.JobScriptCrudService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptCrudService</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.CrudService" href="#jobbergate_api.apps.services.CrudService">CrudService</a></code></p>

  
      <p>Provide an empty derived class of CrudService.</p>
<p>Although it doesn't do anything, it fixes an error with mypy:
    error: Value of type variable "CrudModel" of "CrudService" cannot be "JobScript"</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.services.JobScriptCrudService.auto_clean_unused_job_scripts" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">auto_clean_unused_job_scripts</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">auto_clean_unused_job_scripts</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AutoCleanResponse</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Automatically clean unused job scripts depending on a threshold.</p>
<p>Based on the last time each job script was updated or used to create a job submission,
this will archived job scripts that were unarchived and delete jos script that were archived.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.services.JobScriptCrudService.delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">delete</span><span class="p">(</span><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Extend delete a row by locator.</p>
<p>Orphaned job-scripts are now allowed on Jobbergate. However, the agent
relies on them to submit jobs after requesting GET /agent/pending.
This creates a race condition and errors occur when a job-script is
deleted before the agent handles its submissions.</p>
<p>To avoid this, they are marked as reject in this scenario.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_scripts.services.JobScriptFileService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobScriptFileService</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.FileService" href="#jobbergate_api.apps.services.FileService">FileService</a></code></p>

  
      <p>Provide an empty derived class of FileService.</p>
<p>Although it doesn't do anything, it fixes an error with mypy:
    error: Value of type variable "FileModel" of "FileService" cannot be "JobScriptFile"</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.services.JobScriptFileService.upsert" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">upsert</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">upsert</span><span class="p">(</span><span class="n">parent_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">upload_content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">AnyUrl</span> <span class="o">|</span> <span class="n">UploadFile</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">previous_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">upsert_kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upsert a file instance.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_scripts.services.JobScriptFileService.validate_entrypoint_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">validate_entrypoint_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">validate_entrypoint_file</span><span class="p">(</span><span class="n">parent_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Validate that the entrypoint file is unique.</p>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_scripts.tools" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">tools</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Provide a convenience class for managing job-script files.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_scripts.tools.inject_sbatch_params" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">inject_sbatch_params</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">inject_sbatch_params</span><span class="p">(</span><span class="n">job_script_data_as_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sbatch_params</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Inject sbatch params into job script.</p>
<p>Given the job script as job_script_data_as_string, inject the sbatch params in the correct location.</p>

  </div>

</div>



  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.job_submissions" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">job_submissions</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Provide module for job_submissions.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_submissions.constants" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">constants</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Describe constants for the job_submissions module.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.constants.JobSubmissionMetricAggregateNames" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionMetricAggregateNames</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="auto_name_enum.AutoNameEnum">AutoNameEnum</span></code></p>

  
      <p>An enumeration representing different time intervals for aggregating job submission metrics.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>metrics_nodes_mv_1_week_by_node</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics by node over a 1-week period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_1_hour_by_node</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics by node over a 1-hour period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_10_minutes_by_node</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics by node over a 10-minute period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_1_minute_by_node</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics by node over a 1-minute period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_10_seconds_by_node</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics by node over a 10-second period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_1_week_all_nodes</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics for all nodes over a 1-week period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_1_hour_all_nodes</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics for all nodes over a 1-hour period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_10_minutes_all_nodes</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics for all nodes over a 10-minute period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_1_minute_all_nodes</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics for all nodes over a 1-minute period.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>metrics_nodes_mv_10_seconds_all_nodes</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Aggregation of metrics for all nodes over a 10-second period.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.constants.JobSubmissionMetricSampleRate" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionMetricSampleRate</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="enum.IntEnum">IntEnum</span></code></p>

  
      <p>Defines the set of possible sample rates for job submission metrics.</p>
<p>All values are in seconds.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.constants.JobSubmissionStatus" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionStatus</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="auto_name_enum.AutoNameEnum">AutoNameEnum</span></code></p>

  
      <p>Defines the set of possible statuses for a Job Submission.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.constants.SlurmJobState" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">SlurmJobState</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="auto_name_enum.AutoNameEnum">AutoNameEnum</span></code></p>

  
      <p>Defines the set of possible states for a job submitted to Slurm.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.constants.SlurmJobStateDetails" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">SlurmJobStateDetails</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h7>


  <div class="doc doc-contents ">

  
      <p>Defines the details for a given SlurmJobState including abbreviation and description.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_submissions.helpers" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">helpers</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Core helper functions for job submissions.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.helpers.build_job_metric_aggregation_query" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">build_job_metric_aggregation_query</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">build_job_metric_aggregation_query</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">:</span> <span class="n">JobSubmissionMetricSampleRate</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Build a SQL query string to aggregate job metrics based on the provided node and sample rate.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>node</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The node host identifier. If None, the query will aggregate metrics for all nodes.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>sample_rate</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_submissions.constants.JobSubmissionMetricSampleRate" href="#jobbergate_api.apps.job_submissions.constants.JobSubmissionMetricSampleRate">JobSubmissionMetricSampleRate</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The sample rate for the metrics aggregation. Determines the view name to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SQL query string for aggregating job metrics.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.helpers.validate_job_metric_upload_input" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">validate_job_metric_upload_input</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">validate_job_metric_upload_input</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">expected_types</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Validate if the input data of job metric upload is correct once decoded.</p>
<p>It will brute force apply the expected types to the data and raise an error in case it fails.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="collections.abc.Iterable">Iterable</span>[list[<span title="typing.Any">Any</span>] | tuple[<span title="typing.Any">Any</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The decoded data, which should be a list of lists or tuples,
where each inner list or tuple contains the data for a single job metric upload.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>expected_types</code></td>
          <td>
                <code>tuple[<span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>], ...]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A tuple of types that each element in the inner lists or tuples
should match.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="collections.abc.Iterable">Iterable</span>[tuple[<span title="typing.Any">Any</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Iterable[list[Any] | tuple[Any]]: The validated data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_submissions.models" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">models</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Database model for the JobSubmission resource.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.models.JobSubmission" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmission</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CrudMixin" href="#jobbergate_api.apps.models.CrudMixin">CrudMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Job submission table definition.</p>
<p>Notice all relationships are lazy="raise" to prevent n+1 implicit queries.
This means that the relationships must be explicitly eager loaded using
helper functions in the class.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>job_script_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Id number of the job scrip this submissions is based on.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>execution_directory</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The directory where the job is executed.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>slurm_job_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the job in the slurm queue.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>slurm_job_state</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_submissions.constants.SlurmJobState" href="#jobbergate_api.apps.job_submissions.constants.SlurmJobState">SlurmJobState</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The Slurm Job state as reported by the agent</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>slurm_job_info</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Detailed information about the  Slurm Job as reported by the agent</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>client_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the cluster this submission runs on.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>status</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_submissions.constants.JobSubmissionStatus" href="#jobbergate_api.apps.job_submissions.constants.JobSubmissionStatus">JobSubmissionStatus</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The status of the job submission.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>report_message</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The message returned by the job.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>sbatch_arguments</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The arguments used to submit the job to the slurm queue.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See Mixin class definitions for other columns</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.models.JobSubmission.include_files" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_files</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_files</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load files.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.models.JobSubmission.include_metrics" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_metrics</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_metrics</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load metrics.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.models.JobSubmission.include_parent" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_parent</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_parent</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load parent data.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.models.JobSubmission.searchable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">searchable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">searchable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add client_id as a searchable field.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.models.JobSubmission.sortable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sortable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">sortable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add additional sortable fields.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.models.JobSubmissionMetric" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionMetric</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CommonMixin" href="#jobbergate_api.apps.models.CommonMixin">CommonMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.Base" href="#jobbergate_api.apps.models.Base">Base</a></code></p>

  
      <p>Job submission metric table definition.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>time</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The time the metric was recorded.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>job_submission_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the job submission this metric is for.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>slurm_job_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the job in the slurm queue.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>node_host</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The node on which the metric was recorded.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>step</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The step for which the metric was recorded.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>task</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The task for which the metric was recorded.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cpu_frequency</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The CPU frequency at the time.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cpu_time</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The CPU time (system + user) consumed at the time.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cpu_utilization</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The CPU utilization (% of available) consumed at the time.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>gpu_memory</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The GPU memory consumed at the time (in MB).</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>gpu_utilization</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The GPU utilizaiton (% of availavble) consumed at the time.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>page_faults</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The number of page faults at the time.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>memory_rss</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The resident set size of memory consumed at the time (in MB).</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>memory_virtual</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The virtual memory allocated at the time (in MB).</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>disc_read</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amount of data read from disk at the time (in MB).</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>disk_write</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amount of data written to disk at the time (in MB).</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.models.JobSubmissionMetric.include_parent" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_parent</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_parent</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load parent data.</p>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_submissions.routers" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">routers</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Router for the JobSubmission resource.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_agent_update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_agent_update</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_agent_update</span><span class="p">(</span><span class="n">update_params</span><span class="p">:</span> <span class="n">JobSubmissionAgentUpdateRequest</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_UPDATE</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a job_submission with slurm_job_state and slurm_job_info.</p>
<p>Note that if the new slurm_job_state is a termination state, the job submission status will be updated.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_clone" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_clone</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_clone</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clone a job_submission given its id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_create</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_create</span><span class="p">(</span><span class="n">create_request</span><span class="p">:</span> <span class="n">JobSubmissionCreateRequest</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_CREATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new job submission.</p>
<p>Make a post request to this endpoint with the required values to create a new job submission.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_delete</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;id of the job submission to delete&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_DELETE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete job_submission given its id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_get</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_get</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the job_submission given its id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_get_list" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_get_list</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_get_list</span><span class="p">(</span><span class="n">list_params</span><span class="p">:</span> <span class="n">ListParams</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(),</span> <span class="n">slurm_job_ids</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Comma-separated list of slurm-job-ids to match active job_submissions&#39;</span><span class="p">),</span> <span class="n">submit_status</span><span class="p">:</span> <span class="n">JobSubmissionStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Limit results to those with matching status&#39;</span><span class="p">),</span> <span class="n">from_job_script_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Filter job-submissions by the job-script-id they were created from.&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>List job_submissions for the authenticated user.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submission_update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submission_update</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submission_update</span><span class="p">(</span><span class="n">update_params</span><span class="p">:</span> <span class="n">JobSubmissionUpdateRequest</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_UPDATE</span><span class="p">,</span> <span class="n">ensure_email</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a job_submission given its id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_agent_active" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_agent_active</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_agent_active</span><span class="p">(</span><span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a list of active job submissions for the cluster-agent.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_agent_metrics" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_agent_metrics</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_agent_metrics</span><span class="p">(</span><span class="n">job_submission_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the max times for the tuple (node_host, step, task) of a job submission.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_agent_metrics_upload" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_agent_metrics_upload</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_agent_metrics_upload</span><span class="p">(</span><span class="n">job_submission_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">body</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">Body</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;The binary data to upload&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_UPDATE</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload metrics for a job submission.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_agent_pending" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_agent_pending</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_agent_pending</span><span class="p">(</span><span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a list of pending job submissions for the cluster-agent.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_agent_rejected" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_agent_rejected</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_agent_rejected</span><span class="p">(</span><span class="n">rejected_request</span><span class="p">:</span> <span class="n">JobSubmissionAgentRejectedRequest</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_UPDATE</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a job_submission to indicate that it was rejected by Slurm.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_agent_submitted" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_agent_submitted</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_agent_submitted</span><span class="p">(</span><span class="n">submitted_request</span><span class="p">:</span> <span class="n">JobSubmissionAgentSubmittedRequest</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_UPDATE</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a job_submission to indicate that it was submitted to Slurm.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_metrics" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_metrics</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_metrics</span><span class="p">(</span><span class="n">job_submission_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Filter by node_host. If omitted, metrics will be gathered over all nodes.&#39;</span><span class="p">),</span> <span class="n">start_time</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Start time for the metrics query. Defaults to one hour ago.&#39;</span><span class="p">),</span> <span class="n">sample_rate</span><span class="p">:</span> <span class="n">JobSubmissionMetricSampleRate</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">JobSubmissionMetricSampleRate</span><span class="o">.</span><span class="n">ten_minutes</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Sample rate in seconds for the metrics query.&#39;</span><span class="p">),</span> <span class="n">end_time</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;End time for the metrics query. If omitted, assume the window to be up to the present.&#39;</span><span class="p">),</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the metrics for a job submission.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.job_submissions.routers.job_submissions_metrics_timestamps" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">job_submissions_metrics_timestamps</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">job_submissions_metrics_timestamps</span><span class="p">(</span><span class="n">job_submission_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">secure_services</span><span class="p">:</span> <span class="n">SecureService</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">secure_services</span><span class="p">(</span><span class="n">Permissions</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">JOB_SUBMISSIONS_READ</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the min and max timestamps for a job submission's metrics.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_submissions.schemas" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">schemas</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>JobSubmission resource schema.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.ActiveJobSubmission" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ActiveJobSubmission</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Specialized model for the cluster-agent to pull an active job_submission.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionAgentMaxTimes" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionAgentMaxTimes</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Model for the max_times field of the JobSubmissionMetricsMaxResponse.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionAgentMetricsRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionAgentMetricsRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for updating JobSubmission instances.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionAgentRejectedRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionAgentRejectedRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for marking JobSubmission instances as REJECTED.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionAgentSubmittedRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionAgentSubmittedRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for marking JobSubmission instances as SUBMITTED.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionAgentUpdateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionAgentUpdateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for updating JobSubmission instances.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionBaseView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionBaseView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.schemas.TableResource" href="#jobbergate_api.apps.schemas.TableResource">TableResource</a></code></p>

  
      <p>Base model to match the database for the JobSubmission resource.</p>
<p>Omits parent relationship.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionCreateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionCreateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for creating JobSubmission instances.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionCreateRequest.empty_str_to_none" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">empty_str_to_none</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">empty_str_to_none</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Ensure empty strings are converted to None to avoid problems with Path downstream.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionDetailedView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionDetailedView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_submissions.schemas.JobSubmissionBaseView" href="#jobbergate_api.apps.job_submissions.schemas.JobSubmissionBaseView">JobSubmissionBaseView</a></code></p>

  
      <p>Complete model to match the database for the JobSubmission resource in a detailed view.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionListView" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionListView</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.job_submissions.schemas.JobSubmissionBaseView" href="#jobbergate_api.apps.job_submissions.schemas.JobSubmissionBaseView">JobSubmissionBaseView</a></code></p>

  
      <p>Complete model to match the database for the JobSubmission resource in a list view.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionMetricSchema" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionMetricSchema</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Model for the JobSubmissionMetric resource.</p>
<p>Both <code>step</code> and <code>task</code> are optional fields, as they are not relevant when the metrics are
queried over all the nodes. As well as, all measurements are both <code>int</code> and <code>float</code> due to
the aggregation done by the time series database over time. For better understanding on the
math behind the aggregation, please refer to the alembic revision <code>99c3877d0f10</code>.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionMetricSchema.from_iterable" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">from_iterable</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">from_iterable</span><span class="p">(</span><span class="n">iterable</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">skip_optional</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Convert an iterable containing the fields of the model to an instance of the model.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionMetricSchema.validate_time" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">validate_time</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">validate_time</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Ensure that the time is always an int.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionMetricTimestamps" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionMetricTimestamps</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Model for the timestamps of the JobSubmissionMetric resource.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionUpdateRequest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionUpdateRequest</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Request model for updating JobSubmission instances.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.schemas.JobSubmissionUpdateRequest.empty_str_to_none" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">empty_str_to_none</span>


</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">empty_str_to_none</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Ensure empty strings are converted to None to avoid problems with Path downstream.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.schemas.PendingJobSubmission" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">PendingJobSubmission</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Specialized model for the cluster-agent to pull pending job_submissions.</p>
<p>Model also includes data from its job_script and application sources.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h6 id="jobbergate_api.apps.job_submissions.services" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">services</span>


</h6>

  <div class="doc doc-contents ">
  
      <p>Services for the job_submissions resource, including module specific business logic.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h7 id="jobbergate_api.apps.job_submissions.services.JobSubmissionService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobSubmissionService</span>


</h7>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.CrudService" href="#jobbergate_api.apps.services.CrudService">CrudService</a></code></p>

  
      <p>Provide a CrudService that overloads the list query builder.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h8 id="jobbergate_api.apps.job_submissions.services.JobSubmissionService.build_list_query" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">build_list_query</span>


</h8>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">build_list_query</span><span class="p">(</span><span class="n">sort_ascending</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">search</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sort_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_archived</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">include_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_parent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">filter_slurm_job_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">additional_filters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>List all job_script_templates.</p>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.models" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">models</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Functionalities to be shared by all models.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.ArchiveMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ArchiveMixin</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Add is_archived column to a table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>is_archived</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Specify is a row is considered archived, hidden it by default when listing rows.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.Base" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Base</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="sqlalchemy.orm.DeclarativeBase">DeclarativeBase</span></code></p>

  
      <p>Base class for all models.</p>

<details class="references" open>
  <summary>References</summary>
  <p>https://docs.sqlalchemy.org/en/20/orm/declarative_mixins.html</p>
</details>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.CommonMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">CommonMixin</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Provide a dynamic table and helper methods for displaying instances.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.CommonMixin.__str__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__str__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__str__</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Produce a pretty string representation of the class instance.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.CommonMixin.__tablename__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__tablename__</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__tablename__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Dynamically create table name based on the class name.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.CrudMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">CrudMixin</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CommonMixin" href="#jobbergate_api.apps.models.CommonMixin">CommonMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.IdMixin" href="#jobbergate_api.apps.models.IdMixin">IdMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.TimestampMixin" href="#jobbergate_api.apps.models.TimestampMixin">TimestampMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.OwnerMixin" href="#jobbergate_api.apps.models.OwnerMixin">OwnerMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.NameMixin" href="#jobbergate_api.apps.models.NameMixin">NameMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.ArchiveMixin" href="#jobbergate_api.apps.models.ArchiveMixin">ArchiveMixin</a></code></p>

  
      <p>Add needed columns and declared attributes for all models that support a CrudService.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.CrudMixin.include_files" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_files</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_files</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load files.</p>
<p>This should be overridden by derived classes.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.CrudMixin.include_parent" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_parent</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_parent</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Include custom options on a query to eager load parent data.</p>
<p>This should be overridden by derived classes.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.CrudMixin.searchable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">searchable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">searchable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Describe the fields that may be used in search queries.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.CrudMixin.sortable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sortable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">sortable_fields</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Describe the fields that may be used for sorting queries.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.FileMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">FileMixin</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.CommonMixin" href="#jobbergate_api.apps.models.CommonMixin">CommonMixin</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.models.TimestampMixin" href="#jobbergate_api.apps.models.TimestampMixin">TimestampMixin</a></code></p>

  
      <p>Add needed columns and declared attributes for all models that support a FileService.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parent_id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the parent row in another table.
         Note: Derived classes should override this attribute to make it a foreign key as well.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The description of the job script template.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.FileMixin.file_key" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">file_key</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">file_key</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Dynamically define the s3 key for the file.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.IdMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">IdMixin</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Provide an id primary_key column.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>id</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The id of the job script template.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cloned_from</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Specify the id of the row that this row was cloned from.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.models.IdMixin.cloned_from_id" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">cloned_from_id</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">cloned_from_id</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Dynamically create a cloned_from_id column.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.NameMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">NameMixin</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Add name and description columns to a table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the job script template.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str | None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The description of the job script template.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.OwnerMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">OwnerMixin</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Add an owner email columns to a table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>owner_email</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The email of the owner of the job script template.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.models.TimestampMixin" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TimestampMixin</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Add timestamp columns to a table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>created_at</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<span title="pendulum.datetime.DateTime">DateTime</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The date and time when the job script template was created.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>updated_at</code></td>
          <td>
                <code><span title="sqlalchemy.orm.Mapped">Mapped</span>[<span title="pendulum.datetime.DateTime">DateTime</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The date and time when the job script template was updated.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.permissions" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">permissions</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Provide a module that describes permissions in the API.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.permissions.Permissions" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Permissions</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>Describe the permissions that may be used for protecting Jobbergate routes.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.apps.permissions.can_bypass_ownership_check" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">can_bypass_ownership_check</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">can_bypass_ownership_check</span><span class="p">(</span><span class="n">permissions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Determine if the user has permissions that allow them to bypass ownership checks.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.schemas" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">schemas</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Define app-wide, reusable pydantic schemas.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.schemas.ListParams" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ListParams</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Describe the shared parameters for a list request.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.schemas.PydanticDateTime" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">PydanticDateTime</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pendulum.DateTime">DateTime</span></code></p>

  
      <p>A <code>pendulum.DateTime</code> object. At runtime, this type decomposes into pendulum.DateTime automatically.</p>
<p>This type exists because Pydantic throws a fit on unknown types.</p>
<p>This code is borrowed and enhanced from the <code>pydantic-extra-types</code> module but provides conversion from
standard datetimes as well.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.schemas.PydanticDateTime.__get_pydantic_core_schema__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__get_pydantic_core_schema__</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__get_pydantic_core_schema__</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">handler</span><span class="p">:</span> <span class="n">GetCoreSchemaHandler</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CoreSchema</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return a Pydantic CoreSchema with the Datetime validation.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>source</code></td>
          <td>
                <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The source type to be converted.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>handler</code></td>
          <td>
                <code><span title="pydantic.GetCoreSchemaHandler">GetCoreSchemaHandler</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The handler to get the CoreSchema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pydantic_core.core_schema.CoreSchema">CoreSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A Pydantic CoreSchema with the Datetime validation.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.schemas.TableResource" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TableResource</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>Describes a base for table models that include basic, common info.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_api.apps.services" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">services</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Provide a generic services for CRUD and file operations in routers.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.BucketBoundService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">BucketBoundService</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Provide base class for services that bind to an s3 bucket.</p>
<p>This class holds a reference to the bucket and provides methods to bind and unbind the bucket.
It also keeps track of all instances of the service so that they can be iterated over.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h7 id="jobbergate_api.apps.services.BucketBoundService.bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">bucket</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bucket</span><span class="p">:</span> <span class="n">Bucket</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Fetch the currently bound bucket.</p>
<p>Raise an exception if the service is not bound to a bucket.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.BucketBoundService.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Initialize the service with a null bucket.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.BucketBoundService.bind_bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bind_bucket</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bind_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">:</span> <span class="n">Bucket</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Bind the service to a bucket.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.BucketBoundService.bound_bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bound_bucket</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bound_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">:</span> <span class="n">Bucket</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide a context within which the service is bound to a bucket.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.BucketBoundService.unbind_bucket" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">unbind_bucket</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">unbind_bucket</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Unbind the service from a bucket.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.CrudModelProto" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">CrudModelProto</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.Protocol">Protocol</span></code></p>

  
      <p>Provide a protocol for models that can be operated on by the CrudService.</p>
<p>This protocol enables type hints for editors and type checking with mypy.</p>
<p>These services would best be served by an intersection type so that the model_type is actually
specified to inherit from <em>both</em> the mixins and the Base. This would allow static type checkers to
recognize that all of the columns in a mixin are available and that the class can be
instantiated in the create method. However, intersection types are not supported yet. For more
information, see this discussion: https://github.com/python/typing/issues/213</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudModelProto.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol can be instantiated.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudModelProto.__tablename__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__tablename__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__tablename__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol has a method to dynamically produce the table name.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudModelProto.include_files" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_files</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_files</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol has a method to include files in a query.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudModelProto.include_parent" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">include_parent</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">include_parent</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Select</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol has a method to include details about the parent entry in a query.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudModelProto.searchable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">searchable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">searchable_fields</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol has searchable fields.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudModelProto.sortable_fields" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sortable_fields</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">sortable_fields</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol has sortable fields.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.CrudService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">CrudService</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.DatabaseBoundService" href="#jobbergate_api.apps.services.DatabaseBoundService">DatabaseBoundService</a></code>, <code><span title="typing.Generic">Generic</span>[<span title="jobbergate_api.apps.services.CrudModel">CrudModel</span>]</code></p>

  
      <p>Provide a service that can perform various crud operations using a supplied ORM model type.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h7 id="jobbergate_api.apps.services.CrudService.name" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">name</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">name</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Helper property to recover the name of the table.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">(</span><span class="n">model_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">CrudModel</span><span class="p">])</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Initialize the instance with an ORM model type.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.build_list_query" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">build_list_query</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">build_list_query</span><span class="p">(</span><span class="n">sort_ascending</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">search</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sort_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include_archived</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">include_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_parent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">additional_filters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Select</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Build the query to list matching rows.</p>
<p>Decomposed into a separate function so that deriving subclasses can add
additional logic into the query.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.clone_instance" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">clone_instance</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">clone_instance</span><span class="p">(</span><span class="n">original_instance</span><span class="p">:</span> <span class="n">CrudModel</span><span class="p">,</span> <span class="o">**</span><span class="n">incoming_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CrudModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clone an instance and update it with the supplied data.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.count" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">count</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">count</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Count the number of rows in the table on the database.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">create</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">incoming_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CrudModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add a new row for the model to the database.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">delete</span><span class="p">(</span><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a row by locator.</p>
<p>In almost all cases, the locator will just be an <code>id</code> value.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.ensure_attribute" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">ensure_attribute</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">ensure_attribute</span><span class="p">(</span><span class="n">instance</span><span class="p">:</span> <span class="n">CrudModel</span><span class="p">,</span> <span class="o">**</span><span class="n">attributes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Ensure that a model instance has the specified values on key attributes.</p>
<p>Raises HTTPException if the instance does not have the specified values.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get</span><span class="p">(</span><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">include_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_parent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ensure_attributes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CrudModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a row by locator.</p>
<p>In almost all cases, the locator will just be an <code>id</code> value.</p>
<p>Key value pairs can be provided as <code>ensure_attributes</code> to assert that the
key fields have the specified values. This is useful to assert email ownership
of a row before modifying it, besides any other attribute.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.list" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">list</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">list</span><span class="p">(</span><span class="o">**</span><span class="n">filter_kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">CrudModel</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>List all crud rows matching specified filters.</p>
<p>For details on the supported filters, see the <code>build_list_query()</code> method.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.locate_where_clause" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">locate_where_clause</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">locate_where_clause</span><span class="p">(</span><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide the where clause expression to locate a row by locator.</p>
<p>This method allows derived classes to locate by alternative identifiers, though
locator is an <code>id</code> value in almost all cases.
compound primary keys.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.paginated_list" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">paginated_list</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">paginated_list</span><span class="p">(</span><span class="o">**</span><span class="n">filter_kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CrudModel</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>List all crud rows matching specified filters with pagination.</p>
<p>For details on the supported filters, see the <code>build_list_query()</code> method.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.CrudService.update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">update</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">update</span><span class="p">(</span><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">incoming_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CrudModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a row by locator with supplied data.</p>
<p>In almost all cases, the locator will just be an <code>id</code> value.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.DatabaseBoundService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">DatabaseBoundService</span>


</h6>


  <div class="doc doc-contents ">

  
      <p>Provide base class for services that bind to a database session.</p>
<p>This class holds a reference to the session and provides methods to bind and unbind the session.
It also keeps track of all instances of the service so that they can be iterated over.</p>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h7 id="jobbergate_api.apps.services.DatabaseBoundService.session" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">session</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">session</span><span class="p">:</span> <span class="n">AsyncSession</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Fetch the currently bound session.</p>
<p>Raise an exception if the service is not bound to a session.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.DatabaseBoundService.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Instantiate the service with a null session.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.DatabaseBoundService.bind_session" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bind_session</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bind_session</span><span class="p">(</span><span class="n">session</span><span class="p">:</span> <span class="n">AsyncSession</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Bind the service to a session.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.DatabaseBoundService.bound_session" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bound_session</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bound_session</span><span class="p">(</span><span class="n">session</span><span class="p">:</span> <span class="n">AsyncSession</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide a context within which the service is bound to a session.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.DatabaseBoundService.unbind_session" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">unbind_session</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">unbind_session</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Unbind the service from a session.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.FileModelProto" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">FileModelProto</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.Protocol">Protocol</span></code></p>

  
      <p>Provide a protocol for models that can be operated on by the FileService.</p>
<p>This protocol enables type hints for editors and type checking with mypy.</p>
<p>These services would best be served by an intersection type so that the model_type is actually
specified to inherit from <em>both</em> the mixins and the Base. This would allow static type checkers to
recognize that all of the columns in a mixin are available and that the class can be
instantiated in the create method. However, intersection types are not supported yet. For more
information, see this discussion: https://github.com/python/typing/issues/213</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileModelProto.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol can be instantiated.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileModelProto.__tablename__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__tablename__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__tablename__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Declare that the protocol has a method to dynamically produce the table name.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.FileService" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">FileService</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.DatabaseBoundService" href="#jobbergate_api.apps.services.DatabaseBoundService">DatabaseBoundService</a></code>, <code><a class="autorefs autorefs-internal" title="jobbergate_api.apps.services.BucketBoundService" href="#jobbergate_api.apps.services.BucketBoundService">BucketBoundService</a></code>, <code><span title="typing.Generic">Generic</span>[<span title="jobbergate_api.apps.services.FileModel">FileModel</span>]</code></p>

  
      <p>Provide a service that can perform various file management operations using a supplied ORM model type.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">(</span><span class="n">model_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">FileModel</span><span class="p">])</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Initialize the instance with an ORM model type.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.add_instance" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">add_instance</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">add_instance</span><span class="p">(</span><span class="n">parent_id</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">upsert_kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add a file instance to the database.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.clone_instance" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">clone_instance</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">clone_instance</span><span class="p">(</span><span class="n">original_instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">,</span> <span class="n">new_parent_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clone a file instance and assign it to a new parent-id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.copy_file_content" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">copy_file_content</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">copy_file_content</span><span class="p">(</span><span class="n">source_instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">,</span> <span class="n">destination_instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Copy the content of a file from one instance to another.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.delete" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">delete</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">delete</span><span class="p">(</span><span class="n">instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Delete a file from s3 and from the corresponding table.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.find_children" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">find_children</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">find_children</span><span class="p">(</span><span class="n">parent_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">FileModel</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find matching instances by parent_id.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get</span><span class="p">(</span><span class="n">parent_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a single instance by its parent id and filename (primary keys).</p>
<p>Requires that one and only one result is found.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.get_file_content" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_file_content</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_file_content</span><span class="p">(</span><span class="n">instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the full contents for a file entry.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.render" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">render</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">render</span><span class="p">(</span><span class="n">instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">,</span> <span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Render the file using Jinja2.</p>
<p>The parameters are passed to the template as the context, and two of them are supported:
* Directly as the context, for instance, if the template contains <code>{{ foo }}</code>.
* As a <code>data</code> key for backward compatibility, for instance, if the
  template contains <code>{{ data.foo }}</code>.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.stream_file_content" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">stream_file_content</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">stream_file_content</span><span class="p">(</span><span class="n">instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StreamingBody</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Stream the content of a file using a boto3 StreamingBody.</p>
<p>The StreamingBody is an async generator that can be used for a StreamingResponse in a FastAPI app.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.upload_file_content" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">upload_file_content</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">upload_file_content</span><span class="p">(</span><span class="n">instance</span><span class="p">:</span> <span class="n">FileModel</span><span class="p">,</span> <span class="n">upload_content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">AnyUrl</span> <span class="o">|</span> <span class="n">UploadFile</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upload the content of a file to s3.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.FileService.upsert" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">upsert</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">upsert</span><span class="p">(</span><span class="n">parent_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">upload_content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">AnyUrl</span> <span class="o">|</span> <span class="n">UploadFile</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">previous_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">upsert_kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileModel</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Upsert a file instance.</p>
<p>This method will either create a new file instance or update an existing one.</p>
<p>If a 'previous_filename' is provided, it is replaced by the new one, being deleted in the process.
In this case, the 'upload_content' is optional, as the content can be copied from the previous file.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_api.apps.services.ServiceError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ServiceError</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="fastapi.HTTPException">HTTPException</span></code></p>

  
      <p>Make HTTPException more friendly by changing the default behavior so that the first arg is a message.</p>
<p>Also needed to play nice with py-buzz methods.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_api.apps.services.ServiceError.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Instantiate the HTTPException super class by setting detail to the message provided.</p>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.config" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">config</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provide configuration settings for the app.</p>
<p>Pull settings from environment variables or a .env file if available.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.config.LogLevelEnum" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">LogLevelEnum</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>Provide an enumeration class describing the available log levels.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.config.Settings" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Settings</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic_settings.BaseSettings">BaseSettings</span></code></p>

  
      <p>Provide a pydantic <code>BaseSettings</code> model for the application settings.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.config.Settings.remove_blank_env" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">remove_blank_env</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">remove_blank_env</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Remove any settings from the environment that are blank strings.</p>
<p>This allows the defaults to be set if <code>docker-compose</code> defaults a missing
environment variable to a blank string.</p>

  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.config.check_none_or_all_keys_exist" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">check_none_or_all_keys_exist</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">check_none_or_all_keys_exist</span><span class="p">(</span><span class="n">input_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">target_keys</span><span class="p">:</span> <span class="nb">set</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Verify if none or all of the target keys exist in the input dictionary.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.email_notification" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">email_notification</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Email notification system for Jobbergate.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.email_notification.EmailManager" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">EmailManager</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">

  
      <p>Email manager.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.email_notification.EmailManager.send_email" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">send_email</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">send_email</span><span class="p">(</span><span class="n">to_emails</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">subject</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">skip_on_failure</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Send an email using this manager.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.email_notification.EmailNotificationError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">EmailNotificationError</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="buzz.Buzz">Buzz</span></code></p>

  
      <p>Custom error to be raised for problems at the email notification system.</p>


  </div>

</div>



<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.email_notification.notify_submission_rejected" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">notify_submission_rejected</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">notify_submission_rejected</span><span class="p">(</span><span class="n">job_submission_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">report_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">to_emails</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Notify an email or a list of emails about a job submission that has been rejected.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.logging" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">logging</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provide functions to configure logging.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.logging.InterceptHandler" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">InterceptHandler</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="logging.Handler">Handler</span></code></p>

  
      <p>Specialized handler to intercept log lines sent to standard logging by 3rd party tools.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.logging.InterceptHandler.emit" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">emit</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">emit</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Handle emission of the log record.</p>

  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.logging.init_logging" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">init_logging</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">init_logging</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Initialize logging by setting log level for normal logger and for the SQL logging.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.main" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">main</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Main file to startup the fastapi server.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.main.health_check" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">health_check</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">health_check</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide a health-check endpoint for the app.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.main.lifespan" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">lifespan</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">lifespan</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">FastAPI</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide a lifespan context for the app.</p>
<p>Will set up logging and cleanup database engines when the app is shut down.</p>
<p>This is the preferred method of handling lifespan events in FastAPI.
For mor details, see: https://fastapi.tiangolo.com/advanced/events/</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.main.validation_exception_handler" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">validation_exception_handler</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">validation_exception_handler</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span> <span class="n">RequestValidationError</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Handle exceptions from pydantic validators.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.meta_mapper" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">meta_mapper</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provides a metadata-mapper for re-using descriptions and examples across many pydantic models.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.meta_mapper.MetaField" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">MetaField</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">

  
      <p>Provides a dataclass that describes the metadata that will be mapped for an individual field.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.meta_mapper.MetaMapper" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">MetaMapper</span>


</h5>


  <div class="doc doc-contents ">

  
      <p>Maps re-usable metadata for fields. Should be used with the <code>schema_extra</code> property of a Model's Config.</p>
<p>Example::</p>
<div class="language-text highlight"><pre><span></span><code>foo_meta = MetaMapper(
    id=MetaField(
        description=&quot;The unique identifier of this Foo&quot;,
        example=13,
    ),
    name=MetaField(
        description=&quot;The name of this Foo&quot;,
        example=&quot;Bar&quot;,
    ),
    is_active=MetaField(
        description=&quot;Indicates if this Foo is active&quot;,
        example=True,
    ),
    created_at=MetaField(
        description=&quot;The timestamp indicating when this Foo was created&quot;,
        example=&quot;2023-08-18T13:55:37.172285&quot;,
    ),
)


class CreateFooRequest(BaseModel):
    name: str
    is_active: Optional[bool]

    class Config:
        schema_extra = foo_meta


class UpdateFooRequest(BaseModel):
    name: Optional[str] = None
    is_active: Optional[bool] = None

    class Config:
        schema_extra = foo_meta


class FooResponse(BaseModel):
    id: int
    name: str
    is_active: bool
    created_at: DateTime

    class Config:
        schema_extra = foo_meta
</code></pre></div>
<p>Notice in this example that the fields may be required in some models and optional in others. Further,
not all the fields are present in all the models. The MetaMapper allows the models to share field metadata
and yet define the fields independently.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.meta_mapper.MetaMapper.__call__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__call__</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">*</span><span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Map the MetaFields onto the metadata properties of a schema.</p>
<p>Should be used in a pydantic Model's Config class.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.meta_mapper.MetaMapper.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">MetaField</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Map the kwargs into the field_dict.</p>
<p>All kwargs <em>should</em> be MetaFields, but any object duck-typed to include all the attributes of a
MetaField will be accepted.</p>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.rabbitmq_notification" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">rabbitmq_notification</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>RabbitMQ notification system for Jobbergate.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.rabbitmq_notification.publish_status_change" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">publish_status_change</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">publish_status_change</span><span class="p">(</span><span class="n">job_submission</span><span class="p">:</span> <span class="n">JobSubmission</span><span class="p">,</span> <span class="n">organization_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Publish a status change for a JobSubmission to the RabbitMQ exchange used for notifications.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.rabbitmq_notification.rabbitmq_connect" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">rabbitmq_connect</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">rabbitmq_connect</span><span class="p">(</span><span class="n">exchange_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">do_purge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Connect to a RabbitMQ queue and exchange.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.safe_types" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">safe_types</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provide "safe" type annotatons to avoid issues with mypy and Fast api.</p>

<details class="regarding-the-jobscript-and-jobsubmission-type" open>
  <summary>Regarding the JobScript and JobSubmission type</summary>
  <p>These are needed for the relationships in the models. This avoids issues with circular imports at runtime.</p>
</details>
<details class="regarding-the-bucket-type" open>
  <summary>Regarding the Bucket type</summary>
  <p>This is necessary because the Bucket type isn't importable from the normal boto3 modules. Instead, it must
be imported from the mypy typing plugin for boto3.</p>
<p>The "type" must be bound to Any when not type checking because FastAPI does type inspection for its
dependency injection system. Thus, there must be a type associated with Bucket even when not type
checking.</p>
</details>
  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.security" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">security</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Instantiates armasec resources for auth on api endpoints using project settings.</p>
<p>Also provides a factory function for TokenSecurity to reduce boilerplate.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.security.IdentityPayload" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">IdentityPayload</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="armasec.TokenPayload">TokenPayload</span></code></p>

  
      <p>Provide an extension of TokenPayload that includes the user's identity.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.security.IdentityPayload.extract_organization" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">extract_organization</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">extract_organization</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Extract the organization_id from the organization payload.</p>
<p>The payload is expected to look like:
{
    ...,
    "organization": {
        "adf99e01-5cd5-41ac-a1af-191381ad7780": {
            ...
        }
    }
}</p>

  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.security.get_domain_configs" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_domain_configs</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_domain_configs</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DomainConfig</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return a list of DomainConfig objects based on the input variables for the Settings class.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.security.lockdown_with_identity" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">lockdown_with_identity</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">lockdown_with_identity</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">permission_mode</span><span class="p">:</span> <span class="n">PermissionMode</span> <span class="o">=</span> <span class="n">PermissionMode</span><span class="o">.</span><span class="n">SOME</span><span class="p">,</span> <span class="n">ensure_email</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ensure_organization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide a wrapper to be used with dependency injection to extract identity on a secured route.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.storage" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">storage</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provide functions to interact with persistent data storage.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.storage.EngineFactory" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">EngineFactory</span>


</h5>


  <div class="doc doc-contents ">

  
      <p>Provide a factory class that creates engines and keeps track of them in an engine mapping.</p>
<p>This is used for multi-tenancy and database URL creation at request time.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.storage.EngineFactory.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__init__</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Initialize the EngineFactory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.storage.EngineFactory.auto_session" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">auto_session</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">auto_session</span><span class="p">(</span><span class="n">override_db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">AsyncIterator</span><span class="p">[</span><span class="n">AsyncSession</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get an asynchronous database session.</p>
<p>Gets a new session from the correct engine in the engine map.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.storage.EngineFactory.cleanup" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">cleanup</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">cleanup</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Close all engines stored in the engine map and clears the engine_map.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_api.storage.EngineFactory.get_engine" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_engine</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_engine</span><span class="p">(</span><span class="n">override_db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncEngine</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get a database engine.</p>
<p>If the database url is already in the engine map, return the engine stored there. Otherwise, build
a new one, store it, and return the new engine.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_api.storage.SecureSession" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">SecureSession</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">

  
      <p>Provide a container class for an IdentityPayload and AsyncSesson for the current request.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.storage.build_db_url" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">build_db_url</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">build_db_url</span><span class="p">(</span><span class="n">override_db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force_test</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">asynchronous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Build a database url based on settings.</p>
<p>If <code>force_test</code> is set, build from the test database settings.
If <code>asynchronous</code> is set, use asyncpg.
If <code>override_db_name</code> replace the database name in the settings with the supplied value.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.storage.handle_fk_error" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">handle_fk_error</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">handle_fk_error</span><span class="p">(</span><span class="n">_</span><span class="p">:</span> <span class="n">fastapi</span><span class="o">.</span><span class="n">Request</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span> <span class="n">asyncpg</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ForeignKeyViolationError</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Unpack metadata from a ForeignKeyViolationError and return a 409 response.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.storage.render_sql" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">render_sql</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">render_sql</span><span class="p">(</span><span class="n">session</span><span class="p">:</span> <span class="n">AsyncSession</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Render a sqlalchemy query into a string for debugging.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.storage.search_clause" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">search_clause</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">search_clause</span><span class="p">(</span><span class="n">search_terms</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">searchable_fields</span><span class="p">:</span> <span class="nb">set</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ColumnElement</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create search clause across searchable fields with search terms.</p>
<p>Regarding the False first argument to or_():
    The or_() function must have one fixed positional argument.
    See: https://docs.sqlalchemy.org/en/20/core/sqlelement.html#sqlalchemy.sql.expression.or_</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.storage.secure_session" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">secure_session</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">secure_session</span><span class="p">(</span><span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">permission_mode</span><span class="p">:</span> <span class="n">PermissionMode</span> <span class="o">=</span> <span class="n">PermissionMode</span><span class="o">.</span><span class="n">SOME</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ensure_email</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ensure_organization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ensure_client_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide an injectable for FastAPI that checks permissions and returns a database session for this request.</p>
<p>This should be used for all secured routes that need access to the database. It will commit the
transaction upon completion of the request. If an exception occurs, it will rollback the transaction.
If multi-tenancy is enabled, it will retrieve a database session for the database associated with the
client_id found in the requesting user's auth token.</p>
<p>If testing mode is enabled, it will flush the session instead of committing changes to the database.</p>
<p>Note that the session should NEVER be explicitly committed anywhere else in the source code.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.storage.sort_clause" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sort_clause</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">sort_clause</span><span class="p">(</span><span class="n">sort_field</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sortable_fields</span><span class="p">:</span> <span class="nb">set</span><span class="p">,</span> <span class="n">sort_ascending</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">Mapped</span><span class="p">,</span> <span class="n">UnaryExpression</span><span class="p">,</span> <span class="n">Case</span><span class="p">]</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a sort clause given a sort field, the list of sortable fields, and a sort_ascending flag.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_api.version" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">version</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provide the version of the package.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.version.get_version" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_version</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the version from the metadata if available, otherwise from pyproject.toml.</p>
<p>Returns "unknown" if both methods fail.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.version.get_version_from_metadata" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_version_from_metadata</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_version_from_metadata</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the version from the metadata.</p>
<p>This is the preferred method of getting the version, but only works if the
package is properly installed in a Python environment.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_api.version.get_version_from_poetry" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_version_from_poetry</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">get_version_from_poetry</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the version from pyproject.toml.</p>
<p>This is a fallback method if the package is not installed, but just copied
and accessed locally, like in a Docker image.</p>

  </div>

</div>



  </div>

  </div>

</div>


  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../agent/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Jobbergate Agent">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Jobbergate Agent
              </div>
            </div>
          </a>
        
        
          
          <a href="../cli/" class="md-footer__link md-footer__link--next" aria-label="Next: Jobbergate CLI">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Jobbergate CLI
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.footer", "navigation.tracking", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>