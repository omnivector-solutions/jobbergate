
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cli/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>Jobbergate Core - Jobbergate Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#jobbergate-core-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Jobbergate Documentation" class="md-header__button md-logo" aria-label="Jobbergate Documentation" data-md-component="logo">
      
  <img src="https://omnivector-public-assets.s3.us-west-2.amazonaws.com/branding/omnivector-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jobbergate Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Jobbergate Core
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/omnivector-solutions/jobbergate" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jobbergate Documentation" class="md-nav__button md-logo" aria-label="Jobbergate Documentation" data-md-component="logo">
      
  <img src="https://omnivector-public-assets.s3.us-west-2.amazonaws.com/branding/omnivector-logo.png" alt="logo">

    </a>
    Jobbergate Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/omnivector-solutions/jobbergate" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Elements
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Elements
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/job_scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/job_script_templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Script Templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/resources/job_submissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Submissions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Apps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Apps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../elements/apps/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Core
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../authors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/dev_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/qa_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quality Assurance Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/integration_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/keycloak_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keycloak Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer_guide/template_workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Template Workflows
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobbergate CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Jobbergate Core
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Jobbergate Core
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jobbergate_core" class="md-nav__link">
    jobbergate_core
  </a>
  
    <nav class="md-nav" aria-label="jobbergate_core">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.AuthenticationError" class="md-nav__link">
    AuthenticationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler" class="md-nav__link">
    JobbergateAuthHandler
  </a>
  
    <nav class="md-nav" aria-label="JobbergateAuthHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.acquire_access" class="md-nav__link">
    acquire_access()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.load_from_cache" class="md-nav__link">
    load_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.refresh_tokens" class="md-nav__link">
    refresh_tokens()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.save_to_cache" class="md-nav__link">
    save_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.TokenError" class="md-nav__link">
    TokenError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth" class="md-nav__link">
    auth
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.AuthenticationError" class="md-nav__link">
    AuthenticationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler" class="md-nav__link">
    JobbergateAuthHandler
  </a>
  
    <nav class="md-nav" aria-label="JobbergateAuthHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.acquire_access" class="md-nav__link">
    acquire_access()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.load_from_cache" class="md-nav__link">
    load_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.refresh_tokens" class="md-nav__link">
    refresh_tokens()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.save_to_cache" class="md-nav__link">
    save_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token" class="md-nav__link">
    Token
  </a>
  
    <nav class="md-nav" aria-label="Token">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.bearer_token" class="md-nav__link">
    bearer_token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.__post_init__" class="md-nav__link">
    __post_init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.clear_cache" class="md-nav__link">
    clear_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.is_expired" class="md-nav__link">
    is_expired()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.is_valid" class="md-nav__link">
    is_valid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.load_from_cache" class="md-nav__link">
    load_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.replace" class="md-nav__link">
    replace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.save_to_cache" class="md-nav__link">
    save_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.TokenError" class="md-nav__link">
    TokenError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.TokenType" class="md-nav__link">
    TokenType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.exceptions" class="md-nav__link">
    exceptions
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.exceptions.AuthenticationError" class="md-nav__link">
    AuthenticationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.exceptions.TokenError" class="md-nav__link">
    TokenError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.handler" class="md-nav__link">
    handler
  </a>
  
    <nav class="md-nav" aria-label="handler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.handler.JobbergateAuthHandler" class="md-nav__link">
    JobbergateAuthHandler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.token" class="md-nav__link">
    token
  </a>
  
    <nav class="md-nav" aria-label="token">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.token.Token" class="md-nav__link">
    Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.token.TokenType" class="md-nav__link">
    TokenType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.version" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jobbergate_core" class="md-nav__link">
    jobbergate_core
  </a>
  
    <nav class="md-nav" aria-label="jobbergate_core">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.AuthenticationError" class="md-nav__link">
    AuthenticationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler" class="md-nav__link">
    JobbergateAuthHandler
  </a>
  
    <nav class="md-nav" aria-label="JobbergateAuthHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.acquire_access" class="md-nav__link">
    acquire_access()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.load_from_cache" class="md-nav__link">
    load_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.refresh_tokens" class="md-nav__link">
    refresh_tokens()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.JobbergateAuthHandler.save_to_cache" class="md-nav__link">
    save_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.TokenError" class="md-nav__link">
    TokenError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth" class="md-nav__link">
    auth
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.AuthenticationError" class="md-nav__link">
    AuthenticationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler" class="md-nav__link">
    JobbergateAuthHandler
  </a>
  
    <nav class="md-nav" aria-label="JobbergateAuthHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.acquire_access" class="md-nav__link">
    acquire_access()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.load_from_cache" class="md-nav__link">
    load_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.refresh_tokens" class="md-nav__link">
    refresh_tokens()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.JobbergateAuthHandler.save_to_cache" class="md-nav__link">
    save_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token" class="md-nav__link">
    Token
  </a>
  
    <nav class="md-nav" aria-label="Token">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.bearer_token" class="md-nav__link">
    bearer_token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.__post_init__" class="md-nav__link">
    __post_init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.clear_cache" class="md-nav__link">
    clear_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.is_expired" class="md-nav__link">
    is_expired()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.is_valid" class="md-nav__link">
    is_valid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.load_from_cache" class="md-nav__link">
    load_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.replace" class="md-nav__link">
    replace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.Token.save_to_cache" class="md-nav__link">
    save_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.TokenError" class="md-nav__link">
    TokenError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.TokenType" class="md-nav__link">
    TokenType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.exceptions" class="md-nav__link">
    exceptions
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.exceptions.AuthenticationError" class="md-nav__link">
    AuthenticationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.exceptions.TokenError" class="md-nav__link">
    TokenError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.handler" class="md-nav__link">
    handler
  </a>
  
    <nav class="md-nav" aria-label="handler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.handler.JobbergateAuthHandler" class="md-nav__link">
    JobbergateAuthHandler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.token" class="md-nav__link">
    token
  </a>
  
    <nav class="md-nav" aria-label="token">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.token.Token" class="md-nav__link">
    Token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.auth.token.TokenType" class="md-nav__link">
    TokenType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobbergate_core.version" class="md-nav__link">
    version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="jobbergate-core-reference">Jobbergate Core Reference</h1>


<div class="doc doc-object doc-module">




<h3 id="jobbergate_core" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">jobbergate_core</span>


</h3>

  <div class="doc doc-contents first">
  
      <p>Jobbergate-core contains key components that are shared among sub-projects.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="jobbergate_core.AuthenticationError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">AuthenticationError</span>


</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="buzz.Buzz">Buzz</span></code></p>

  
      <p>Base exception for errors related to authentication on Jobbergate.</p>


  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="jobbergate_core.JobbergateAuthHandler" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobbergateAuthHandler</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">

  
      <p>High-level class used to manage authentication to requests to the Jobbergate-API</p>
<p>After an instance of this class is created, it can be used to authenticate requests
from both <code>requests</code><em>  and <code>httpx</code></em> packages by passing it to the <code>auth</code>
parameter on the request (see examples below).</p>
<p>It just works out of the box. Behind the scenes, this procedure calls the
:meth:<code>JobbergateAuthHandler.acquire_access</code> method to load the available tokens from the cache directory,
it tries to refresh them if they are expired, or provides an URL to the user to login on the system.</p>
<p>Notice all steps above are also available individually as public methods, allowing a fine control for
advanced users.</p>
<p>.. _requests: https://requests.readthedocs.io/en/latest/
.. _httpx: https://www.python-httpx.org/</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Directory to be used for the caching tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_domain</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain used for the login.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Audience of the login.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Client ID used for login.</p>
            </div>
          </td>
          <td>
                <code>&#39;default&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="note" open>
  <summary>Note</summary>
  <p>These values depend on the identity provider used for authentication. Consult your system
administrator or contact Omnivector support <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#111;&#109;&#110;&#105;&#118;&#101;&#99;&#116;&#111;&#114;&#46;&#115;&#111;&#108;&#117;&#116;&#105;&#111;&#110;&#115;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#111;&#109;&#110;&#105;&#118;&#101;&#99;&#116;&#111;&#114;&#46;&#115;&#111;&#108;&#117;&#116;&#105;&#111;&#110;&#115;</a> for further assistance.</p>
</details>
<details class="note" open>
  <summary>Note</summary>
  <p>This class can interoperate with the tokens generated by the <code>jobbergate-cli</code> package, as long
as they are stored in the same cache directory.</p>
</details>      <p>Examples:</p>
<div class="language-text highlight"><pre><span></span><code>The following example shows how to use the :meth:`JobbergateAuthHandler`
class to authenticate a request:

&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; import requests
&gt;&gt;&gt; from jobbergate_core import JobbergateAuthHandler
&gt;&gt;&gt; jobbergate_auth = JobbergateAuthHandler(
...     cache_directory=Path(&quot;.&quot;),
...     login_domain=&quot;http://keycloak.local:8080/realms/jobbergate-local&quot;,
...     login_audience=&quot;https://local.omnivector.solutions&quot;,
...     login_client_id=&quot;cli&quot;,
... )
&gt;&gt;&gt; jobbergate_base_url = &quot;http://localhost:8000/jobbergate&quot;
&gt;&gt;&gt; response = requests.get(
...     f&quot;{jobbergate_base_url}/applications&quot;,
...     auth=jobbergate_auth # this is the important part
)
Login Here: http://keycloak.local:8080/realms/jobbergate-local/device?user_code=LMVJ-XOLG
&gt;&gt;&gt; response.raise_for_status()
&gt;&gt;&gt; print(f&quot;response = {response.json()}&quot;)
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.__call__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__call__</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This internal method allows the integration with the <code>requests</code> library.</p>
<p>It is called automatically when the instance is passed to the <code>auth</code> parameter,
see the examples in the class docstring.</p>
<p>It adds the <code>Authorization</code> header to the request with the access token.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.acquire_access" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">acquire_access</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">acquire_access</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>High-level method to acquire a valid access token.</p>
<p>This method will attempt, in order:</p>
<ul>
<li>Use the internal access token from the instance</li>
<li>Load the tokens from the cache directory (see :meth:<code>JobbergateAuthHandler.load_from_cache</code>)</li>
<li>If the access token is unavailable or expired, refresh both tokens
  using the refresh token grant type (see :meth:<code>JobbergateAuthHandler.refresh_tokens</code>)</li>
<li>If the refresh token is unavailable or expired, login to generate both tokens
  (see :meth:<code>JobbergateAuthHandler.login</code>)</li>
</ul>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The bearer access token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If all of the steps above fail to acquire a valid access token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.load_from_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">load_from_cache</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">load_from_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load the tokens that are available at the cache directory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.login" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">login</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">login</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Login to Jobbergate.</p>
<p>An URL will be printed to the console, the user must open it in a browser and provide
their access credentials.</p>
<p>After the login is completed, the tokens will be saved to the cache directory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.logout" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">logout</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">logout</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Logout from Jobbergate by clearing the loaded tokens and their cache on the disk.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.refresh_tokens" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">refresh_tokens</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">refresh_tokens</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Refresh the tokens.</p>
<p>After the refresh operation is completed, the tokens will be saved to the cache directory.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the refresh token is missing or expired.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="jobbergate_core.JobbergateAuthHandler.save_to_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">save_to_cache</span>


</h5>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">save_to_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Save the tokens to the cache directory.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>This method will create the cache directory if it does not exist.</p>
</details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="jobbergate_core.TokenError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TokenError</span>


</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code></p>

  
      <p>Exception for errors related to tokens on Jobbergate.</p>


  </div>

</div>



<div class="doc doc-object doc-module">




<h4 id="jobbergate_core.auth" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">auth</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Utilities for handling auth in Jobbergate.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h5 id="jobbergate_core.auth.AuthenticationError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">AuthenticationError</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="buzz.Buzz">Buzz</span></code></p>

  
      <p>Base exception for errors related to authentication on Jobbergate.</p>


  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_core.auth.JobbergateAuthHandler" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobbergateAuthHandler</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">

  
      <p>High-level class used to manage authentication to requests to the Jobbergate-API</p>
<p>After an instance of this class is created, it can be used to authenticate requests
from both <code>requests</code><em>  and <code>httpx</code></em> packages by passing it to the <code>auth</code>
parameter on the request (see examples below).</p>
<p>It just works out of the box. Behind the scenes, this procedure calls the
:meth:<code>JobbergateAuthHandler.acquire_access</code> method to load the available tokens from the cache directory,
it tries to refresh them if they are expired, or provides an URL to the user to login on the system.</p>
<p>Notice all steps above are also available individually as public methods, allowing a fine control for
advanced users.</p>
<p>.. _requests: https://requests.readthedocs.io/en/latest/
.. _httpx: https://www.python-httpx.org/</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Directory to be used for the caching tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_domain</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain used for the login.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Audience of the login.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Client ID used for login.</p>
            </div>
          </td>
          <td>
                <code>&#39;default&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="note" open>
  <summary>Note</summary>
  <p>These values depend on the identity provider used for authentication. Consult your system
administrator or contact Omnivector support <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#111;&#109;&#110;&#105;&#118;&#101;&#99;&#116;&#111;&#114;&#46;&#115;&#111;&#108;&#117;&#116;&#105;&#111;&#110;&#115;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#111;&#109;&#110;&#105;&#118;&#101;&#99;&#116;&#111;&#114;&#46;&#115;&#111;&#108;&#117;&#116;&#105;&#111;&#110;&#115;</a> for further assistance.</p>
</details>
<details class="note" open>
  <summary>Note</summary>
  <p>This class can interoperate with the tokens generated by the <code>jobbergate-cli</code> package, as long
as they are stored in the same cache directory.</p>
</details>      <p>Examples:</p>
<div class="language-text highlight"><pre><span></span><code>The following example shows how to use the :meth:`JobbergateAuthHandler`
class to authenticate a request:

&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; import requests
&gt;&gt;&gt; from jobbergate_core import JobbergateAuthHandler
&gt;&gt;&gt; jobbergate_auth = JobbergateAuthHandler(
...     cache_directory=Path(&quot;.&quot;),
...     login_domain=&quot;http://keycloak.local:8080/realms/jobbergate-local&quot;,
...     login_audience=&quot;https://local.omnivector.solutions&quot;,
...     login_client_id=&quot;cli&quot;,
... )
&gt;&gt;&gt; jobbergate_base_url = &quot;http://localhost:8000/jobbergate&quot;
&gt;&gt;&gt; response = requests.get(
...     f&quot;{jobbergate_base_url}/applications&quot;,
...     auth=jobbergate_auth # this is the important part
)
Login Here: http://keycloak.local:8080/realms/jobbergate-local/device?user_code=LMVJ-XOLG
&gt;&gt;&gt; response.raise_for_status()
&gt;&gt;&gt; print(f&quot;response = {response.json()}&quot;)
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.__call__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__call__</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This internal method allows the integration with the <code>requests</code> library.</p>
<p>It is called automatically when the instance is passed to the <code>auth</code> parameter,
see the examples in the class docstring.</p>
<p>It adds the <code>Authorization</code> header to the request with the access token.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.acquire_access" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">acquire_access</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">acquire_access</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>High-level method to acquire a valid access token.</p>
<p>This method will attempt, in order:</p>
<ul>
<li>Use the internal access token from the instance</li>
<li>Load the tokens from the cache directory (see :meth:<code>JobbergateAuthHandler.load_from_cache</code>)</li>
<li>If the access token is unavailable or expired, refresh both tokens
  using the refresh token grant type (see :meth:<code>JobbergateAuthHandler.refresh_tokens</code>)</li>
<li>If the refresh token is unavailable or expired, login to generate both tokens
  (see :meth:<code>JobbergateAuthHandler.login</code>)</li>
</ul>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The bearer access token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If all of the steps above fail to acquire a valid access token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.load_from_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">load_from_cache</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">load_from_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load the tokens that are available at the cache directory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.login" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">login</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">login</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Login to Jobbergate.</p>
<p>An URL will be printed to the console, the user must open it in a browser and provide
their access credentials.</p>
<p>After the login is completed, the tokens will be saved to the cache directory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.logout" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">logout</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">logout</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Logout from Jobbergate by clearing the loaded tokens and their cache on the disk.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.refresh_tokens" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">refresh_tokens</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">refresh_tokens</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Refresh the tokens.</p>
<p>After the refresh operation is completed, the tokens will be saved to the cache directory.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the refresh token is missing or expired.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.JobbergateAuthHandler.save_to_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">save_to_cache</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">save_to_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Save the tokens to the cache directory.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>This method will create the cache directory if it does not exist.</p>
</details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_core.auth.Token" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Token</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">

  
      <p>Low-level class used to handling tokens.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The directory used for cache.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>content</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The content of the token (default is <code>""</code>).</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>file_path</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the file associated with the token.
It is computed  as <code>&lt;cache_directory&gt;/&lt;label&gt;.token</code>.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Metadata decoded from the token's content are available in this dictionary.
Expiration date and permissions are some examples of data that can be found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h6 id="jobbergate_core.auth.Token.bearer_token" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">bearer_token</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bearer_token</span><span class="p">:</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the token with the <code>Bearer</code> prefix.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.__post_init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__post_init__</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__post_init__</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Post init method.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.clear_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">clear_cache</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">clear_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clear the token from cache by removing the file associated with it.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.is_expired" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_expired</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_expired</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check if the token is expired.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the token is expired, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.TokenError" href="#jobbergate_core.auth.exceptions.TokenError">TokenError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the expiration date is not found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.is_valid" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_valid</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_valid</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Verify if the token is valid, i.e., has content and is not expired.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.load_from_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">load_from_cache</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">load_from_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Token</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load the token from the cache directory.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the cache directory.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.token.Token" href="#jobbergate_core.auth.token.Token">Token</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new token with the content replaced.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.replace" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">replace</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">replace</span><span class="p">(</span><span class="o">**</span><span class="n">changes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new instance of the token with the changes applied.</p>



  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>content</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The content of the token.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The directory containing the cache.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="jobbergate_core.auth.Token.save_to_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">save_to_cache</span>


</h6>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">save_to_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Save the token to the cache file associated with it.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.TokenError" href="#jobbergate_core.auth.exceptions.TokenError">TokenError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the parent directory does not exist.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.TokenError" href="#jobbergate_core.auth.exceptions.TokenError">TokenError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If there is an unknown error while saving the token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_core.auth.TokenError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TokenError</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code></p>

  
      <p>Exception for errors related to tokens on Jobbergate.</p>


  </div>

</div>

<div class="doc doc-object doc-class">




<h5 id="jobbergate_core.auth.TokenType" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TokenType</span>


</h5>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>The types of tokens available in the system are <code>access</code> and <code>refresh</code>.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>



<div class="doc doc-object doc-module">




<h5 id="jobbergate_core.auth.exceptions" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">exceptions</span>


</h5>

  <div class="doc doc-contents ">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_core.auth.exceptions.AuthenticationError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">AuthenticationError</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="buzz.Buzz">Buzz</span></code></p>

  
      <p>Base exception for errors related to authentication on Jobbergate.</p>


  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_core.auth.exceptions.TokenError" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TokenError</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code></p>

  
      <p>Exception for errors related to tokens on Jobbergate.</p>


  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_core.auth.handler" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">handler</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Utilities for handling authentication in the Jobbergate system.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_core.auth.handler.JobbergateAuthHandler" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobbergateAuthHandler</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h6>


  <div class="doc doc-contents ">

  
      <p>High-level class used to manage authentication to requests to the Jobbergate-API</p>
<p>After an instance of this class is created, it can be used to authenticate requests
from both <code>requests</code><em>  and <code>httpx</code></em> packages by passing it to the <code>auth</code>
parameter on the request (see examples below).</p>
<p>It just works out of the box. Behind the scenes, this procedure calls the
:meth:<code>JobbergateAuthHandler.acquire_access</code> method to load the available tokens from the cache directory,
it tries to refresh them if they are expired, or provides an URL to the user to login on the system.</p>
<p>Notice all steps above are also available individually as public methods, allowing a fine control for
advanced users.</p>
<p>.. _requests: https://requests.readthedocs.io/en/latest/
.. _httpx: https://www.python-httpx.org/</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Directory to be used for the caching tokens.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_domain</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain used for the login.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_audience</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Audience of the login.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>login_client_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Client ID used for login.</p>
            </div>
          </td>
          <td>
                <code>&#39;default&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

<details class="note" open>
  <summary>Note</summary>
  <p>These values depend on the identity provider used for authentication. Consult your system
administrator or contact Omnivector support <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#111;&#109;&#110;&#105;&#118;&#101;&#99;&#116;&#111;&#114;&#46;&#115;&#111;&#108;&#117;&#116;&#105;&#111;&#110;&#115;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#111;&#109;&#110;&#105;&#118;&#101;&#99;&#116;&#111;&#114;&#46;&#115;&#111;&#108;&#117;&#116;&#105;&#111;&#110;&#115;</a> for further assistance.</p>
</details>
<details class="note" open>
  <summary>Note</summary>
  <p>This class can interoperate with the tokens generated by the <code>jobbergate-cli</code> package, as long
as they are stored in the same cache directory.</p>
</details>      <p>Examples:</p>
<div class="language-text highlight"><pre><span></span><code>The following example shows how to use the :meth:`JobbergateAuthHandler`
class to authenticate a request:

&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; import requests
&gt;&gt;&gt; from jobbergate_core import JobbergateAuthHandler
&gt;&gt;&gt; jobbergate_auth = JobbergateAuthHandler(
...     cache_directory=Path(&quot;.&quot;),
...     login_domain=&quot;http://keycloak.local:8080/realms/jobbergate-local&quot;,
...     login_audience=&quot;https://local.omnivector.solutions&quot;,
...     login_client_id=&quot;cli&quot;,
... )
&gt;&gt;&gt; jobbergate_base_url = &quot;http://localhost:8000/jobbergate&quot;
&gt;&gt;&gt; response = requests.get(
...     f&quot;{jobbergate_base_url}/applications&quot;,
...     auth=jobbergate_auth # this is the important part
)
Login Here: http://keycloak.local:8080/realms/jobbergate-local/device?user_code=LMVJ-XOLG
&gt;&gt;&gt; response.raise_for_status()
&gt;&gt;&gt; print(f&quot;response = {response.json()}&quot;)
</code></pre></div>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.__call__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__call__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This internal method allows the integration with the <code>requests</code> library.</p>
<p>It is called automatically when the instance is passed to the <code>auth</code> parameter,
see the examples in the class docstring.</p>
<p>It adds the <code>Authorization</code> header to the request with the access token.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.acquire_access" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">acquire_access</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">acquire_access</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>High-level method to acquire a valid access token.</p>
<p>This method will attempt, in order:</p>
<ul>
<li>Use the internal access token from the instance</li>
<li>Load the tokens from the cache directory (see :meth:<code>JobbergateAuthHandler.load_from_cache</code>)</li>
<li>If the access token is unavailable or expired, refresh both tokens
  using the refresh token grant type (see :meth:<code>JobbergateAuthHandler.refresh_tokens</code>)</li>
<li>If the refresh token is unavailable or expired, login to generate both tokens
  (see :meth:<code>JobbergateAuthHandler.login</code>)</li>
</ul>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The bearer access token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If all of the steps above fail to acquire a valid access token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.load_from_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">load_from_cache</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">load_from_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load the tokens that are available at the cache directory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.login" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">login</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">login</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Login to Jobbergate.</p>
<p>An URL will be printed to the console, the user must open it in a browser and provide
their access credentials.</p>
<p>After the login is completed, the tokens will be saved to the cache directory.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.logout" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">logout</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">logout</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Logout from Jobbergate by clearing the loaded tokens and their cache on the disk.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.refresh_tokens" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">refresh_tokens</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">refresh_tokens</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Refresh the tokens.</p>
<p>After the refresh operation is completed, the tokens will be saved to the cache directory.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.AuthenticationError" href="#jobbergate_core.auth.exceptions.AuthenticationError">AuthenticationError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the refresh token is missing or expired.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.handler.JobbergateAuthHandler.save_to_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">save_to_cache</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">save_to_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Save the tokens to the cache directory.</p>

<details class="note" open>
  <summary>Note</summary>
  <p>This method will create the cache directory if it does not exist.</p>
</details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h5 id="jobbergate_core.auth.token" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">token</span>


</h5>

  <div class="doc doc-contents ">
  
      <p>Utilities for handling tokens on Jobbergate.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h6 id="jobbergate_core.auth.token.Token" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Token</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h6>


  <div class="doc doc-contents ">

  
      <p>Low-level class used to handling tokens.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The directory used for cache.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>content</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The content of the token (default is <code>""</code>).</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>file_path</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the file associated with the token.
It is computed  as <code>&lt;cache_directory&gt;/&lt;label&gt;.token</code>.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Metadata decoded from the token's content are available in this dictionary.
Expiration date and permissions are some examples of data that can be found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h7 id="jobbergate_core.auth.token.Token.bearer_token" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">bearer_token</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">bearer_token</span><span class="p">:</span> <span class="nb">str</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the token with the <code>Bearer</code> prefix.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.__post_init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__post_init__</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">__post_init__</span><span class="p">()</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Post init method.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.clear_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">clear_cache</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">clear_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clear the token from cache by removing the file associated with it.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.is_expired" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_expired</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_expired</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check if the token is expired.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the token is expired, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.TokenError" href="#jobbergate_core.auth.exceptions.TokenError">TokenError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the expiration date is not found.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.is_valid" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_valid</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">is_valid</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Verify if the token is valid, i.e., has content and is not expired.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.load_from_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">load_from_cache</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">load_from_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Token</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Load the token from the cache directory.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to the cache directory.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.token.Token" href="#jobbergate_core.auth.token.Token">Token</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new token with the content replaced.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.replace" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">replace</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">replace</span><span class="p">(</span><span class="o">**</span><span class="n">changes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new instance of the token with the changes applied.</p>



  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>content</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The content of the token.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>cache_directory</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The directory containing the cache.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The type of token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h7 id="jobbergate_core.auth.token.Token.save_to_cache" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">save_to_cache</span>


</h7>
<div class="doc-signature highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">save_to_cache</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</span></code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Save the token to the cache file associated with it.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.TokenError" href="#jobbergate_core.auth.exceptions.TokenError">TokenError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the parent directory does not exist.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="jobbergate_core.auth.exceptions.TokenError" href="#jobbergate_core.auth.exceptions.TokenError">TokenError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If there is an unknown error while saving the token.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h6 id="jobbergate_core.auth.token.TokenType" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">TokenType</span>


</h6>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>str</code>, <code><span title="enum.Enum">Enum</span></code></p>

  
      <p>The types of tokens available in the system are <code>access</code> and <code>refresh</code>.</p>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>


  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h4 id="jobbergate_core.version" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">version</span>


</h4>

  <div class="doc doc-contents ">
  
      <p>Provide the version of the package.</p>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>


  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.tracking", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>